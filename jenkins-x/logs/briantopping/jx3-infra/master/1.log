
Showing logs for build [32mbriantopping-jx3-infra-master-p-mcmzm-1[0m stage [32mrelease[0m and container [32mstep-credential-initializer-jm7vp[0m
{"level":"info","ts":1598640224.6675496,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1598640224.6691928,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mbriantopping-jx3-infra-master-p-mcmzm-1[0m stage [32mrelease[0m and container [32mstep-working-dir-initializer-r2xf6[0m
{"level":"info","ts":1598640225.6296732,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1598640225.6324792,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mbriantopping-jx3-infra-master-p-mcmzm-1[0m stage [32mrelease[0m and container [32mstep-place-tools[0m

Showing logs for build [32mbriantopping-jx3-infra-master-p-mcmzm-1[0m stage [32mrelease[0m and container [32mstep-git-source-briantopping-jx3-infra-master-p-mcmzm-56p64[0m
{"level":"info","ts":1598640236.7455664,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1598640237.354319,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/************/**3-infra.git @ v0.0.1 in path /workspace/source"}

Showing logs for build [32mbriantopping-jx3-infra-master-p-mcmzm-1[0m stage [32mrelease[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mbriantopping-jx3-infra-master-p-mcmzm-1[0m stage [32mrelease[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:eb64a7eef7fc5e5caaa407a226455df34aa5049b
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32mbriantopping-jx3-infra-master-p-mcmzm-1[0m stage [32mrelease[0m and container [32mstep-release[0m
make: Nothing to be done for 'release'.

Showing logs for build [32mbriantopping-jx3-infra-master-p-mcmzm-1[0m stage [32mrelease[0m and container [32mstep-log-apply[0m
waiting for the Git Operator to be ready in namespace **...
pod **-git-operator-5bc86669-sdnbr has status Ready
the Git Operator is running in pod **-git-operator-5bc86669-sdnbr

waiting for boot Job pod with selector app=**-boot in namespace ** for commit SHA eb64a7eef7fc5e5caaa407a226455df34aa5049b...
waiting for Job **-boot-eb64a7eef7fc5e5caaa407a to complete...
pod **-boot-eb64a7eef7fc5e5caaa407a-tj8lx has status Ready

tailing boot Job pod **-boot-eb64a7eef7fc5e5caaa407a-tj8lx

** gitops condition --last-commit-msg-prefix '!Merge pull request' -- make git-setup resolve-metadata all kubectl-apply verify-ingress-ignore commit
about to run: git log -1 --pretty=%B
chore: regenerated
found last commit message: chore: regenerated
about to run: make git-setup resolve-metadata all kubectl-apply verify-ingress-ignore commit
make[1]: Entering directory '/workspace/source'
** gitops git setup
about to run: git config --global --add user.name ************
about to run: git config --global --add user.email jenkins-x@googlegroups.com
about to run: git config --global credential.helper store in dir /home
Generated Git credentials file /home/.config/git/credentials
git pull
Already up to date.
# lets merge in any output from Terraform in the ConfigMap default/terraform-**-requirements if it exists
** gitops requirements merge
there is no ConfigMap terraform-**-requirements in namespace default so no need to merge requirements
# lets resolve any requirements
** gitops requirements resolve -n
GKE project: atvi-test2
project number: 411516393686
cluster name: infrak8s-dev
zone: us-central1-a
rm -rf build config-root
# lets create any missing SourceRepository defined in .**/gitops/source-config.yaml which are not in: versionStream/src/base/namespaces/**/source-repositories
** gitops repository create
file does not exist: .**/gitops/source-config.yaml so not defaulting any SourceConfig resources
mkdir -p build/base
mkdir -p build/tmp
mkdir -p config-root/namespaces/**
cp -r versionStream/src/* build
mkdir -p build/base/cluster/crds
# lets configure the cluster gitops repository URL on the requirements if its missing
** gitops repository resolve --source-dir config-root/namespaces
modifying **-requirements.yml in dir . to set the dev environment git repository to be ************/**3-infra
saving **-requirements.yml
discovered git URL https://************:****************************************@github.com/************/**3-infra replacing it in the dev Environment and Source Repository in dir config-root/namespaces
# set any missing defaults in the secrets mapping file
** secret convert edit
saved file: /workspace/source/.**/secret/mapping/secret-mappings.yaml
# lets resolve chart versions and values from the version stream
** gitops helmfile resolve
generated helm YAML file from ** requirements at **-values.yaml
resolving versions and values files from the version stream https://github.com/jenkins-x/**r-versions.git ref master in dir versionStream
about to run: helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
about to run: helm repo add jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories
about to run: helm repo add external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories
about to run: helm repo add **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories
about to run: helm repo add stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories
about to run: helm repo add banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories
# lets make sure we are using the latest **-cli in the git operator Job
** gitops image -s .**/git-operator
# this line avoids the next helmfile command failing...
helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
# generate the yaml from the charts in helmfile.yaml and moves them to the right directory tree (cluster or namespaces/foo)
** gitops helmfile template  --args="--include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl" --output-dir config-root
about to run: helm repo add external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories
about to run: helm repo add **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories
about to run: helm repo add stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories
about to run: helm repo add banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories
about to run: helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
about to run: helm repo add jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories
generating helm templates to dir config-root
about to run: helmfile --file helmfile-namespace-**.yaml --namespace ** template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/221562316/**
Adding repo jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories

Adding repo **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories

Fetching jenkins-x/**boot-helmfile-resources
Fetching **-labs/jenkins-x-crds
Fetching jenkins-x/tekton
Fetching jenkins-x/lighthouse
Fetching jenkins-x/nexus
Fetching jenkins-x/chartmuseum
Building dependency release=**boot-helmfile-resources, chart=/tmp/434682693/**/**boot-helmfile-resources/jenkins-x/**boot-helmfile-resources/0.0.283/**boot-helmfile-resources
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "external-secrets" chart repository
...Successfully got an update from the "**-labs" chart repository
...Successfully got an update from the "banzaicloud-stable" chart repository
...Successfully got an update from the "stable" chart repository
...Successfully got an update from the "**" chart repository
...Successfully got an update from the "jenkins-x" chart repository
Update Complete. âŽˆHappy Helming!âŽˆ
Saving 5 charts
Downloading ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Deleting outdated charts

Building dependency release=jenkins-x-crds, chart=/tmp/434682693/**/jenkins-x-crds/**-labs/jenkins-x-crds/0.0.7/jenkins-x-crds
Building dependency release=tekton, chart=/tmp/434682693/**/tekton/jenkins-x/tekton/0.0.56/tekton
Building dependency release=lighthouse, chart=/tmp/434682693/**/lighthouse/jenkins-x/lighthouse/0.0.683/lighthouse
Building dependency release=nexus, chart=/tmp/434682693/**/nexus/jenkins-x/nexus/0.1.35/nexus
Building dependency release=chartmuseum, chart=/tmp/434682693/**/chartmuseum/jenkins-x/chartmuseum/1.1.7/chartmuseum
Templating release=**boot-helmfile-resources, chart=/tmp/434682693/**/**boot-helmfile-resources/jenkins-x/**boot-helmfile-resources/0.0.283/**boot-helmfile-resources
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/docker-cfg-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/gh-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/maven-settings-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/npm-token-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/release-gpg-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/ingress-config-configmap.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-devpod-config.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-docker-registry.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-extensions-config.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/committer-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/**-pipeline-activity-reporter-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/**-view-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/owner-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/viewer-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/cronjob.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/cronjob.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/cronjob.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-chartmuseum-ing.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-hook-ing.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-nexus-ing.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/buildpacks.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/buildpacks.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/release.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/release.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/release.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/release.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/release.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/default-scheduler.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/env-scheduler.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/pr-only-scheduler.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/release-only-scheduler.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/repositories.yaml


Templating release=jenkins-x-crds, chart=/tmp/434682693/**/jenkins-x-crds/**-labs/jenkins-x-crds/0.0.7/jenkins-x-crds
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/apps-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/buildpacks-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/commitstatuses-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/environmentrolebindings-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/environments-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/extensions-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/facts-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/gitservices-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/pipelineactivities-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/pipelinestructures-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/plugins-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/releases-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/schedulers-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/sourcerepositories-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/sourcerepositorygroups-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/teams-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/users-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/workflows-crd.yaml


Templating release=tekton, chart=/tmp/434682693/**/tekton/jenkins-x/tekton/0.0.56/tekton
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/101-podsecuritypolicy.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/251-bot-serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-docker-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-git-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-artifact-bucket.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-artifact-pvc.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-defaults.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-entrypoint.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-logging.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-observability.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-clustertask.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-condition.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-imagecache.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-pipeline.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-pipelinerun.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-resource.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-task.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-taskrun.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/200-clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/clusterrole-aggregate-edit.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/clusterrole-aggregate-view.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/200-clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/400-controller-service.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/controller.yaml


Templating release=lighthouse, chart=/tmp/434682693/**/lighthouse/jenkins-x/lighthouse/0.0.683/lighthouse
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-sa.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-sa.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-sa.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-sa.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-sa.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/hmacsecret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/oauthsecret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/lighthousejobs-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-rb.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-rb.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-rb.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-rb.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-rb.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-service.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-service.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-cj.yaml


Templating release=nexus, chart=/tmp/434682693/**/nexus/jenkins-x/nexus/0.1.35/nexus
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/config.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/pvc.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/service.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/deployment.yaml


Templating release=chartmuseum, chart=/tmp/434682693/**/chartmuseum/jenkins-x/chartmuseum/1.1.7/chartmuseum
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/pvc.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/service.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/deployment.yaml


processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum
processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds
processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources
processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse
processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus
processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton
no Namespace resource ** so created file config-root/cluster/namespaces/**.yaml
about to run: helmfile --file helmfile-namespace-secret-infra.yaml --namespace secret-infra template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/221562316/secret-infra
Adding repo external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories

Adding repo **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories

Adding repo banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories

Fetching external-secrets/kubernetes-external-secrets
Fetching banzaicloud-stable/vault-operator
Fetching **-labs/vault-instance
Fetching **-labs/pusher-wave
Building dependency release=kubernetes-external-secrets, chart=/tmp/451981598/secret-infra/kubernetes-external-secrets/external-secrets/kubernetes-external-secrets/4.0.0/kubernetes-external-secrets
Building dependency release=vault-operator, chart=/tmp/451981598/secret-infra/vault-operator/banzaicloud-stable/vault-operator/1.3.0/vault-operator
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "external-secrets" chart repository
...Successfully got an update from the "**-labs" chart repository
...Successfully got an update from the "banzaicloud-stable" chart repository
...Successfully got an update from the "stable" chart repository
...Successfully got an update from the "**" chart repository
...Successfully got an update from the "jenkins-x" chart repository
Update Complete. âŽˆHappy Helming!âŽˆ
Saving 1 charts
Downloading etcd-operator from repo https://kubernetes-charts.storage.googleapis.com/
Deleting outdated charts

Building dependency release=vault-instance, chart=/tmp/451981598/secret-infra/vault-instance/**-labs/vault-instance/0.0.1/vault-instance
Building dependency release=pusher-wave, chart=/tmp/451981598/secret-infra/pusher-wave/**-labs/pusher-wave/1.0.0/pusher-wave
Templating release=kubernetes-external-secrets, chart=/tmp/451981598/secret-infra/kubernetes-external-secrets/external-secrets/kubernetes-external-secrets/4.0.0/kubernetes-external-secrets
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/crds/kubernetes-client.io_externalsecrets_crd.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/serviceaccount.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/service.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/deployment.yaml


Templating release=vault-operator, chart=/tmp/451981598/secret-infra/vault-operator/banzaicloud-stable/vault-operator/1.3.0/vault-operator
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/crds/crd.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/sa.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/role.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/rolebinding.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/service.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/deployment.yaml


Templating release=vault-instance, chart=/tmp/451981598/secret-infra/vault-instance/**-labs/vault-instance/0.0.1/vault-instance
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/sa.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/pvc.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/cluster-role-binding.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/role.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/role-binding.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/cr.yaml


Templating release=pusher-wave, chart=/tmp/451981598/secret-infra/pusher-wave/**-labs/pusher-wave/1.0.0/pusher-wave
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/serviceaccount.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/clusterrole.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/clusterrolebinding.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/deployment.yaml


processing chart dir /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets
processing chart dir /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave
processing chart dir /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance
processing chart dir /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator
no Namespace resource secret-infra so created file config-root/cluster/namespaces/secret-infra.yaml
about to run: helmfile --file helmfile-namespace-nginx.yaml --namespace nginx template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/221562316/nginx
Adding repo stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories

Fetching stable/nginx-ingress
Building dependency release=nginx-ingress, chart=/tmp/786044225/nginx/nginx-ingress/stable/nginx-ingress/1.39.1/nginx-ingress
Templating release=nginx-ingress, chart=/tmp/786044225/nginx/nginx-ingress/stable/nginx-ingress/1.39.1/nginx-ingress
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-poddisruptionbudget.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-serviceaccount.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-serviceaccount.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/clusterrole.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/clusterrolebinding.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-role.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-rolebinding.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-service.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-service.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-deployment.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-deployment.yaml


processing chart dir /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress
no Namespace resource nginx so created file config-root/cluster/namespaces/nginx.yaml
# convert k8s Secrets => ExternalSecret resources using secret mapping + schemas
# see: https://github.com/jenkins-x/**-secret#mappings
** secret convert --dir config-root
cp -r ./build/base/* config-root
rm config-root/kustomization.yaml
# lets generate the lighthouse configuration
** gitops scheduler -d config-root/namespaces/** -o versionStream/src/base/namespaces/**/lighthouse-config
loaded Scheduler name default in namespace **
loaded Scheduler name environment in namespace **
loaded Environment name dev in namespace **
loaded Scheduler name pr-only in namespace **
loaded Scheduler name release-only in namespace **
loaded SourceRepository name dev in namespace **
generated config ConfigMap versionStream/src/base/namespaces/**/lighthouse-config/config-cm.yaml and plugins ConfigMap versionStream/src/base/namespaces/**/lighthouse-config/plugins-cm.yaml
# lets add the kubectl-apply prune annotations
#
# NOTE be very careful about these 2 labels as getting them wrong can remove stuff in you cluster!
** gitops label --dir config-root/cluster    gitops.jenkins-x.io/pipeline=cluster
** gitops label --dir config-root/namespaces gitops.jenkins-x.io/pipeline=namespaces
# lets enable pusher-wave to perform rolling updates of any Deployment when its underlying Secrets get modified
# by modifying the underlying secret store (e.g. vault / GSM / ASM) which then causes External Secrets to modify the k8s Secrets
** gitops annotate --dir  config-root/namespaces --kind Deployment wave.pusher.com/update-on-config-change=true
# lets force a rolling upgrade of lighthouse pods whenever we update the lighthouse config...
** gitops hash -s config-root/namespaces/**/lighthouse-config/config-cm.yaml -s config-root/namespaces/**/lighthouse-config/plugins-cm.yaml -d config-root/namespaces/**/lighthouse
added annotation: jenkins-x.io/hash=35aefe3db7079732a972311e54cdb93ced2293370710697718af399e4442e526 to Deployments in dir config-root/namespaces/**/lighthouse
# NOTE be very careful about these 2 labels as getting them wrong can remove stuff in you cluster!
kubectl apply --prune -l=gitops.jenkins-x.io/pipeline=cluster    -R -f config-root/cluster
customresourcedefinition.apiextensions.k8s.io/apps.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/buildpacks.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/commitstatuses.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/environmentrolebindings.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/environments.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/extensions.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/facts.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/gitservices.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/pipelineactivities.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/pipelinestructures.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/plugins.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/releases.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/schedulers.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/sourcerepositories.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/sourcerepositorygroups.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/teams.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/users.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/workflows.jenkins.io configured
clusterrole.rbac.authorization.k8s.io/controllerbuild-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/controllerbuild-** unchanged
clusterrole.rbac.authorization.k8s.io/controllerrole-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/controllerrole-** unchanged
clusterrole.rbac.authorization.k8s.io/gcactivities-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/gcactivities-** unchanged
clusterrole.rbac.authorization.k8s.io/gcpreviews-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/gcpreviews-** unchanged
customresourcedefinition.apiextensions.k8s.io/lighthousejobs.lighthouse.jenkins.io unchanged
clusterrole.rbac.authorization.k8s.io/tekton-pipelines unchanged
clusterrolebinding.rbac.authorization.k8s.io/tekton-pipelines-** unchanged
customresourcedefinition.apiextensions.k8s.io/clustertasks.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/conditions.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/images.caching.internal.knative.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelines.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelineruns.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelineresources.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/tasks.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/taskruns.tekton.dev unchanged
clusterrole.rbac.authorization.k8s.io/tekton-bot unchanged
clusterrolebinding.rbac.authorization.k8s.io/tekton-bot-** unchanged
clusterrole.rbac.authorization.k8s.io/tekton-aggregate-edit unchanged
clusterrole.rbac.authorization.k8s.io/tekton-aggregate-view unchanged
namespace/** unchanged
namespace/nginx configured
namespace/secret-infra configured
clusterrole.rbac.authorization.k8s.io/nginx-ingress unchanged
clusterrolebinding.rbac.authorization.k8s.io/nginx-ingress unchanged
customresourcedefinition.apiextensions.k8s.io/externalsecrets.kubernetes-client.io unchanged
clusterrole.rbac.authorization.k8s.io/kubernetes-external-secrets unchanged
clusterrolebinding.rbac.authorization.k8s.io/kubernetes-external-secrets unchanged
clusterrolebinding.rbac.authorization.k8s.io/kubernetes-external-secrets-auth unchanged
clusterrole.rbac.authorization.k8s.io/pusher-wave-pusher-wave unchanged
clusterrolebinding.rbac.authorization.k8s.io/pusher-wave-pusher-wave unchanged
clusterrolebinding.rbac.authorization.k8s.io/vault-auth-delegator unchanged
customresourcedefinition.apiextensions.k8s.io/vaults.vault.banzaicloud.com unchanged
clusterrole.rbac.authorization.k8s.io/vault-operator unchanged
clusterrolebinding.rbac.authorization.k8s.io/vault-operator unchanged
kubectl apply --prune -l=gitops.jenkins-x.io/pipeline=namespaces -R -f config-root/namespaces
deployment.apps/jenkins-x-chartmuseum unchanged
persistentvolumeclaim/jenkins-x-chartmuseum unchanged
externalsecret.kubernetes-client.io/jenkins-x-chartmuseum unchanged
service/jenkins-x-chartmuseum unchanged
ingress.networking.k8s.io/chartmuseum unchanged
ingress.networking.k8s.io/hook unchanged
ingress.networking.k8s.io/nexus unchanged
buildpack.jenkins.io/classic-workloads unchanged
buildpack.jenkins.io/kubernetes-workloads unchanged
deployment.apps/**boot-helmfile-resources-controllerbuild unchanged
release.jenkins.io/controllerbuild-2.0.1143 configured
role.rbac.authorization.k8s.io/controllerbuild unchanged
rolebinding.rbac.authorization.k8s.io/controllerbuild unchanged
serviceaccount/**boot-helmfile-resources-controllerbuild unchanged
deployment.apps/**boot-helmfile-resources-controllerrole unchanged
release.jenkins.io/controllerrole-2.0.1143 configured
role.rbac.authorization.k8s.io/controllerrole unchanged
rolebinding.rbac.authorization.k8s.io/controllerrole unchanged
serviceaccount/**boot-helmfile-resources-controllerrole unchanged
cronjob.batch/**boot-helmfile-resources-gcactivities unchanged
release.jenkins.io/gcactivities-2.0.1143 configured
role.rbac.authorization.k8s.io/gcactivities unchanged
rolebinding.rbac.authorization.k8s.io/gcactivities unchanged
serviceaccount/**boot-helmfile-resources-gcactivities unchanged
cronjob.batch/**boot-helmfile-resources-gcpods unchanged
release.jenkins.io/gcpods-2.0.1143 configured
role.rbac.authorization.k8s.io/gcpods unchanged
rolebinding.rbac.authorization.k8s.io/gcpods unchanged
serviceaccount/**boot-helmfile-resources-gcpods unchanged
cronjob.batch/**boot-helmfile-resources-gcpreviews unchanged
release.jenkins.io/gcpreviews-2.0.1143 configured
role.rbac.authorization.k8s.io/gcpreviews unchanged
rolebinding.rbac.authorization.k8s.io/gcpreviews unchanged
serviceaccount/**boot-helmfile-resources-gcpreviews unchanged
role.rbac.authorization.k8s.io/committer unchanged
scheduler.jenkins.io/default unchanged
externalsecret.kubernetes-client.io/jenkins-docker-cfg unchanged
scheduler.jenkins.io/environment unchanged
environment.jenkins.io/dev unchanged
environment.jenkins.io/staging unchanged
environment.jenkins.io/production unchanged
externalsecret.kubernetes-client.io/**-pipeline-git-github-github unchanged
configmap/ingress-config unchanged
configmap/jenkins-x-devpod-config unchanged
configmap/jenkins-x-docker-registry unchanged
configmap/jenkins-x-extensions unchanged
configmap/jenkins-x-pod-template-dlang unchanged
configmap/jenkins-x-pod-template-maven-nodejs unchanged
configmap/jenkins-x-pod-template-newman unchanged
configmap/jenkins-x-pod-template-nodejs unchanged
configmap/jenkins-x-pod-template-nodejs10x unchanged
configmap/jenkins-x-pod-template-nodejs12x unchanged
configmap/jenkins-x-pod-template-nodejs8x unchanged
configmap/jenkins-x-pod-template-packer unchanged
configmap/jenkins-x-pod-template-promote unchanged
configmap/jenkins-x-pod-template-python unchanged
configmap/jenkins-x-pod-template-python2 unchanged
configmap/jenkins-x-pod-template-go unchanged
configmap/jenkins-x-pod-template-python37 unchanged
configmap/jenkins-x-pod-template-ruby unchanged
configmap/jenkins-x-pod-template-rust unchanged
configmap/jenkins-x-pod-template-scala unchanged
configmap/jenkins-x-pod-template-swift unchanged
configmap/jenkins-x-pod-template-terraform unchanged
configmap/jenkins-x-pod-template-aws-cdk unchanged
configmap/jenkins-x-pod-template-php5x unchanged
configmap/jenkins-x-pod-template-php7x unchanged
configmap/jenkins-x-pod-template-gradle unchanged
configmap/jenkins-x-pod-template-**-base unchanged
configmap/jenkins-x-pod-template-machine-learning unchanged
configmap/jenkins-x-pod-template-machine-learning-gpu unchanged
configmap/jenkins-x-pod-template-maven unchanged
configmap/jenkins-x-pod-template-maven-graalvm unchanged
configmap/jenkins-x-pod-template-maven-java11 unchanged
role.rbac.authorization.k8s.io/**-pipeline-activity-updater unchanged
role.rbac.authorization.k8s.io/**-view unchanged
externalsecret.kubernetes-client.io/jenkins-maven-settings unchanged
externalsecret.kubernetes-client.io/jenkins-npm-token unchanged
role.rbac.authorization.k8s.io/owner unchanged
scheduler.jenkins.io/pr-only unchanged
externalsecret.kubernetes-client.io/jenkins-release-gpg unchanged
scheduler.jenkins.io/release-only unchanged
sourcerepository.jenkins.io/dev unchanged
role.rbac.authorization.k8s.io/viewer unchanged
deployment.apps/lighthouse-foghorn unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-foghorn unchanged
role.rbac.authorization.k8s.io/lighthouse-foghorn unchanged
serviceaccount/lighthouse-foghorn unchanged
cronjob.batch/lighthouse-gc-jobs unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-gc-jobs unchanged
role.rbac.authorization.k8s.io/lighthouse-gc-jobs unchanged
serviceaccount/lighthouse-gc-jobs unchanged
externalsecret.kubernetes-client.io/lighthouse-hmac-token unchanged
deployment.apps/lighthouse-**-controller unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-**-controller unchanged
role.rbac.authorization.k8s.io/lighthouse-**-controller unchanged
serviceaccount/lighthouse-**-controller unchanged
deployment.apps/lighthouse-keeper unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-keeper unchanged
role.rbac.authorization.k8s.io/lighthouse-keeper unchanged
serviceaccount/lighthouse-keeper unchanged
service/lighthouse-keeper unchanged
externalsecret.kubernetes-client.io/lighthouse-oauth-token unchanged
deployment.apps/lighthouse-webhooks unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-webhooks unchanged
role.rbac.authorization.k8s.io/lighthouse-webhooks unchanged
serviceaccount/lighthouse-webhooks unchanged
service/hook unchanged
configmap/config configured
configmap/**-install-config unchanged
configmap/plugins configured
configmap/nexus unchanged
deployment.apps/nexus-nexus configured
persistentvolumeclaim/nexus-nexus unchanged
externalsecret.kubernetes-client.io/nexus unchanged
service/nexus unchanged
podsecuritypolicy.policy/tekton-pipelines configured
externalsecret.kubernetes-client.io/knative-docker-user-pass unchanged
externalsecret.kubernetes-client.io/knative-git-user-pass unchanged
serviceaccount/tekton-pipelines unchanged
serviceaccount/tekton-bot configured
service/tekton-pipelines-controller unchanged
role.rbac.authorization.k8s.io/tekton-bot unchanged
rolebinding.rbac.authorization.k8s.io/tekton-bot unchanged
configmap/config-artifact-bucket configured
configmap/config-artifact-pvc unchanged
configmap/config-defaults unchanged
configmap/config-entrypoint unchanged
configmap/config-logging unchanged
configmap/config-observability unchanged
deployment.apps/tekton-pipelines-controller unchanged
deployment.apps/nginx-ingress-controller configured
poddisruptionbudget.policy/nginx-ingress-controller unchanged
role.rbac.authorization.k8s.io/nginx-ingress unchanged
rolebinding.rbac.authorization.k8s.io/nginx-ingress unchanged
service/nginx-ingress-controller unchanged
serviceaccount/nginx-ingress unchanged
deployment.apps/nginx-ingress-default-backend configured
service/nginx-ingress-default-backend unchanged
serviceaccount/nginx-ingress-backend unchanged
deployment.apps/kubernetes-external-secrets unchanged
service/kubernetes-external-secrets unchanged
serviceaccount/kubernetes-external-secrets unchanged
deployment.apps/pusher-wave-pusher-wave configured
serviceaccount/pusher-wave-pusher-wave unchanged
vault.vault.banzaicloud.com/vault unchanged
persistentvolumeclaim/vault-file unchanged
rolebinding.rbac.authorization.k8s.io/vault-secrets unchanged
role.rbac.authorization.k8s.io/vault-secrets unchanged
serviceaccount/vault unchanged
deployment.apps/vault-operator configured
serviceaccount/vault-operator unchanged
service/vault-operator unchanged
# lets apply any infrastructure specific labels or annotations to enable IAM roles on ServiceAccounts etc
** gitops postprocess
there is no post processing Secret **-post-process in namespace default so not performing any additional post processing steps
** verify ingress -b
now verifying docker registry ingress setup in dir .
git add *
The following paths are ignored by one of your .gitignore files:
build
Use -f if you really want to add them.
make[1]: [versionStream/src/Makefile.mk:172: commit] Error 1 (ignored)
git status
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

	modified:   .**/secret/mapping/secret-mappings.yaml

no changes added to commit (use "git add" and/or "git commit -a")
# lets ignore commit errors in case there's no changes and to stop pipelines failing
git commit -m "chore: regenerated"
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
	modified:   .**/secret/mapping/secret-mappings.yaml

no changes added to commit
make[1]: Leaving directory '/workspace/source'
make[1]: [versionStream/src/Makefile.mk:175: commit] Error 1 (ignored)
# lets run this twice to ensure that ingress is setup after applying nginx if not using a custom domain yet
** gitops condition --last-commit-msg-prefix '!Merge pull request' -- make verify-ingress-ignore all verify-ignore secrets-populate commit push secrets-wait
about to run: git log -1 --pretty=%B
chore: regenerated
found last commit message: chore: regenerated
about to run: make verify-ingress-ignore all verify-ignore secrets-populate commit push secrets-wait
make[1]: Entering directory '/workspace/source'
** verify ingress -b
now verifying docker registry ingress setup in dir .
rm -rf build config-root
# lets create any missing SourceRepository defined in .**/gitops/source-config.yaml which are not in: versionStream/src/base/namespaces/**/source-repositories
** gitops repository create
file does not exist: .**/gitops/source-config.yaml so not defaulting any SourceConfig resources
mkdir -p build/base
mkdir -p build/tmp
mkdir -p config-root/namespaces/**
cp -r versionStream/src/* build
mkdir -p build/base/cluster/crds
# lets configure the cluster gitops repository URL on the requirements if its missing
** gitops repository resolve --source-dir config-root/namespaces
modifying **-requirements.yml in dir . to set the dev environment git repository to be ************/**3-infra
saving **-requirements.yml
discovered git URL https://************:****************************************@github.com/************/**3-infra replacing it in the dev Environment and Source Repository in dir config-root/namespaces
# set any missing defaults in the secrets mapping file
** secret convert edit
saved file: /workspace/source/.**/secret/mapping/secret-mappings.yaml
# lets resolve chart versions and values from the version stream
** gitops helmfile resolve
generated helm YAML file from ** requirements at **-values.yaml
resolving versions and values files from the version stream https://github.com/jenkins-x/**r-versions.git ref master in dir versionStream
about to run: helm repo add external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories
about to run: helm repo add **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories
about to run: helm repo add stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories
about to run: helm repo add banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories
about to run: helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
about to run: helm repo add jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories
# lets make sure we are using the latest **-cli in the git operator Job
** gitops image -s .**/git-operator
# this line avoids the next helmfile command failing...
helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
# generate the yaml from the charts in helmfile.yaml and moves them to the right directory tree (cluster or namespaces/foo)
** gitops helmfile template  --args="--include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl" --output-dir config-root
about to run: helm repo add jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories
about to run: helm repo add external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories
about to run: helm repo add **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories
about to run: helm repo add stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories
about to run: helm repo add banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories
about to run: helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
generating helm templates to dir config-root
about to run: helmfile --file helmfile-namespace-nginx.yaml --namespace nginx template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/933364006/nginx
Adding repo stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories

Fetching stable/nginx-ingress
Building dependency release=nginx-ingress, chart=/tmp/818360572/nginx/nginx-ingress/stable/nginx-ingress/1.39.1/nginx-ingress
Templating release=nginx-ingress, chart=/tmp/818360572/nginx/nginx-ingress/stable/nginx-ingress/1.39.1/nginx-ingress
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-poddisruptionbudget.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-serviceaccount.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-serviceaccount.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/clusterrole.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/clusterrolebinding.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-role.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-rolebinding.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-service.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-service.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-deployment.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-deployment.yaml


processing chart dir /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress
no Namespace resource nginx so created file config-root/cluster/namespaces/nginx.yaml
about to run: helmfile --file helmfile-namespace-**.yaml --namespace ** template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/933364006/**
Adding repo jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories

Adding repo **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories

Fetching **-labs/jenkins-x-crds
Fetching jenkins-x/**boot-helmfile-resources
Fetching jenkins-x/tekton
Fetching jenkins-x/lighthouse
Fetching jenkins-x/nexus
Fetching jenkins-x/chartmuseum
Building dependency release=**boot-helmfile-resources, chart=/tmp/461130758/**/**boot-helmfile-resources/jenkins-x/**boot-helmfile-resources/0.0.283/**boot-helmfile-resources
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "external-secrets" chart repository
...Successfully got an update from the "**-labs" chart repository
...Successfully got an update from the "banzaicloud-stable" chart repository
...Successfully got an update from the "stable" chart repository
...Successfully got an update from the "**" chart repository
...Successfully got an update from the "jenkins-x" chart repository
Update Complete. âŽˆHappy Helming!âŽˆ
Saving 5 charts
Downloading ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Deleting outdated charts

Building dependency release=jenkins-x-crds, chart=/tmp/461130758/**/jenkins-x-crds/**-labs/jenkins-x-crds/0.0.7/jenkins-x-crds
Building dependency release=tekton, chart=/tmp/461130758/**/tekton/jenkins-x/tekton/0.0.56/tekton
Building dependency release=lighthouse, chart=/tmp/461130758/**/lighthouse/jenkins-x/lighthouse/0.0.683/lighthouse
Building dependency release=nexus, chart=/tmp/461130758/**/nexus/jenkins-x/nexus/0.1.35/nexus
Building dependency release=chartmuseum, chart=/tmp/461130758/**/chartmuseum/jenkins-x/chartmuseum/1.1.7/chartmuseum
Templating release=**boot-helmfile-resources, chart=/tmp/461130758/**/**boot-helmfile-resources/jenkins-x/**boot-helmfile-resources/0.0.283/**boot-helmfile-resources
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/docker-cfg-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/gh-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/maven-settings-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/npm-token-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/release-gpg-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/ingress-config-configmap.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-devpod-config.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-docker-registry.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-extensions-config.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/committer-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/**-pipeline-activity-reporter-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/**-view-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/owner-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/viewer-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/cronjob.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/cronjob.yaml
Templating release=jenkins-x-crds, chart=/tmp/461130758/**/jenkins-x-crds/**-labs/jenkins-x-crds/0.0.7/jenkins-x-crds
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/cronjob.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-chartmuseum-ing.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-hook-ing.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-nexus-ing.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/buildpacks.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/buildpacks.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/release.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/release.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/release.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/release.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/release.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/default-scheduler.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/env-scheduler.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/pr-only-scheduler.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/release-only-scheduler.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/repositories.yaml


wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/apps-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/buildpacks-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/commitstatuses-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/environmentrolebindings-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/environments-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/extensions-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/facts-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/gitservices-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/pipelineactivities-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/pipelinestructures-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/plugins-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/releases-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/schedulers-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/sourcerepositories-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/sourcerepositorygroups-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/teams-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/users-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/workflows-crd.yaml


Templating release=tekton, chart=/tmp/461130758/**/tekton/jenkins-x/tekton/0.0.56/tekton
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/101-podsecuritypolicy.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/251-bot-serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-docker-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-git-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-artifact-bucket.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-artifact-pvc.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-defaults.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-entrypoint.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-logging.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-observability.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-clustertask.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-condition.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-imagecache.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-pipeline.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-pipelinerun.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-resource.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-task.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-taskrun.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/200-clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/clusterrole-aggregate-edit.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/clusterrole-aggregate-view.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/200-clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/400-controller-service.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/controller.yaml


Templating release=lighthouse, chart=/tmp/461130758/**/lighthouse/jenkins-x/lighthouse/0.0.683/lighthouse
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-sa.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-sa.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-sa.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-sa.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-sa.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/hmacsecret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/oauthsecret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/lighthousejobs-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-rb.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-rb.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-rb.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-rb.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-rb.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-service.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-service.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-cj.yaml


Templating release=nexus, chart=/tmp/461130758/**/nexus/jenkins-x/nexus/0.1.35/nexus
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/config.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/pvc.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/service.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/deployment.yaml


Templating release=chartmuseum, chart=/tmp/461130758/**/chartmuseum/jenkins-x/chartmuseum/1.1.7/chartmuseum
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/pvc.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/service.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/deployment.yaml


processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum
processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds
processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources
processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse
processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus
processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton
no Namespace resource ** so created file config-root/cluster/namespaces/**.yaml
about to run: helmfile --file helmfile-namespace-secret-infra.yaml --namespace secret-infra template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/933364006/secret-infra
Adding repo external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories

Adding repo **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories

Adding repo banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories

Fetching external-secrets/kubernetes-external-secrets
Fetching banzaicloud-stable/vault-operator
Fetching **-labs/vault-instance
Fetching **-labs/pusher-wave
Building dependency release=kubernetes-external-secrets, chart=/tmp/467446977/secret-infra/kubernetes-external-secrets/external-secrets/kubernetes-external-secrets/4.0.0/kubernetes-external-secrets
Building dependency release=vault-operator, chart=/tmp/467446977/secret-infra/vault-operator/banzaicloud-stable/vault-operator/1.3.0/vault-operator
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "external-secrets" chart repository
...Successfully got an update from the "**-labs" chart repository
...Successfully got an update from the "banzaicloud-stable" chart repository
...Successfully got an update from the "stable" chart repository
...Successfully got an update from the "**" chart repository
...Successfully got an update from the "jenkins-x" chart repository
Update Complete. âŽˆHappy Helming!âŽˆ
Saving 1 charts
Downloading etcd-operator from repo https://kubernetes-charts.storage.googleapis.com/
Deleting outdated charts

Building dependency release=vault-instance, chart=/tmp/467446977/secret-infra/vault-instance/**-labs/vault-instance/0.0.1/vault-instance
Building dependency release=pusher-wave, chart=/tmp/467446977/secret-infra/pusher-wave/**-labs/pusher-wave/1.0.0/pusher-wave
Templating release=kubernetes-external-secrets, chart=/tmp/467446977/secret-infra/kubernetes-external-secrets/external-secrets/kubernetes-external-secrets/4.0.0/kubernetes-external-secrets
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/crds/kubernetes-client.io_externalsecrets_crd.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/serviceaccount.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/service.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/deployment.yaml


Templating release=vault-operator, chart=/tmp/467446977/secret-infra/vault-operator/banzaicloud-stable/vault-operator/1.3.0/vault-operator
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/crds/crd.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/sa.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/role.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/rolebinding.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/service.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/deployment.yaml


Templating release=vault-instance, chart=/tmp/467446977/secret-infra/vault-instance/**-labs/vault-instance/0.0.1/vault-instance
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/sa.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/pvc.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/cluster-role-binding.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/role.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/role-binding.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/cr.yaml


Templating release=pusher-wave, chart=/tmp/467446977/secret-infra/pusher-wave/**-labs/pusher-wave/1.0.0/pusher-wave
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/serviceaccount.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/clusterrole.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/clusterrolebinding.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/deployment.yaml


processing chart dir /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets
processing chart dir /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave
processing chart dir /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance
processing chart dir /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator
no Namespace resource secret-infra so created file config-root/cluster/namespaces/secret-infra.yaml
# convert k8s Secrets => ExternalSecret resources using secret mapping + schemas
# see: https://github.com/jenkins-x/**-secret#mappings
** secret convert --dir config-root
cp -r ./build/base/* config-root
rm config-root/kustomization.yaml
# lets generate the lighthouse configuration
** gitops scheduler -d config-root/namespaces/** -o versionStream/src/base/namespaces/**/lighthouse-config
loaded Scheduler name default in namespace **
loaded Scheduler name environment in namespace **
loaded Environment name dev in namespace **
loaded Scheduler name pr-only in namespace **
loaded Scheduler name release-only in namespace **
loaded SourceRepository name dev in namespace **
generated config ConfigMap versionStream/src/base/namespaces/**/lighthouse-config/config-cm.yaml and plugins ConfigMap versionStream/src/base/namespaces/**/lighthouse-config/plugins-cm.yaml
# lets add the kubectl-apply prune annotations
#
# NOTE be very careful about these 2 labels as getting them wrong can remove stuff in you cluster!
** gitops label --dir config-root/cluster    gitops.jenkins-x.io/pipeline=cluster
** gitops label --dir config-root/namespaces gitops.jenkins-x.io/pipeline=namespaces
# lets enable pusher-wave to perform rolling updates of any Deployment when its underlying Secrets get modified
# by modifying the underlying secret store (e.g. vault / GSM / ASM) which then causes External Secrets to modify the k8s Secrets
** gitops annotate --dir  config-root/namespaces --kind Deployment wave.pusher.com/update-on-config-change=true
# lets force a rolling upgrade of lighthouse pods whenever we update the lighthouse config...
** gitops hash -s config-root/namespaces/**/lighthouse-config/config-cm.yaml -s config-root/namespaces/**/lighthouse-config/plugins-cm.yaml -d config-root/namespaces/**/lighthouse
added annotation: jenkins-x.io/hash=35aefe3db7079732a972311e54cdb93ced2293370710697718af399e4442e526 to Deployments in dir config-root/namespaces/**/lighthouse
make[1]: Nothing to be done for 'verify-ignore'.
# lets populate any missing secrets we have a generator in `charts/epoName/hartName/secret-schema.yaml`
# they can be modified/regenerated at any time via `** secret edit`
VAULT_ADDR=https://vault.secret-infra:8200 ** secret populate
waiting for vault pod vault-0 in namespace secret-infra to be ready...
pod vault-0 in namespace secret-infra is ready
verifying we have vault installed
about to run: /home/.**3/plugins/bin/vault-1.4.2 version
Vault v1.4.2
verifying we can connect to vault...
about to run: /home/.**3/plugins/bin/vault-1.4.2 kv list secret
Keys
----
accounts/
dockerrepo
jenkins/
**/
lighthouse/
mysql
nexus
vault is setup correctly!

managed to verify we can connect to vault
verifying we have vault installed
about to run: /home/.**3/plugins/bin/vault-1.4.2 version
Vault v1.4.2
verifying we can connect to vault...
about to run: /home/.**3/plugins/bin/vault-1.4.2 kv list secret
Keys
----
accounts/
dockerrepo
jenkins/
**/
lighthouse/
mysql
nexus
vault is setup correctly!

git add *
The following paths are ignored by one of your .gitignore files:
build
Use -f if you really want to add them.
make[1]: [versionStream/src/Makefile.mk:172: commit] Error 1 (ignored)
git status
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

	modified:   .**/secret/mapping/secret-mappings.yaml

no changes added to commit (use "git add" and/or "git commit -a")
# lets ignore commit errors in case there's no changes and to stop pipelines failing
git commit -m "chore: regenerated"
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
	modified:   .**/secret/mapping/secret-mappings.yaml

no changes added to commit
make[1]: [versionStream/src/Makefile.mk:175: commit] Error 1 (ignored)
git push
Everything up-to-date
# lets wait for the ExternalSecrets service to populate the mandatory Secret resources
VAULT_ADDR=https://vault.secret-infra:8200 ** secret wait
waiting for the mandatory Secrets to be populated from ExternalSecrets...
jenkins-x-chartmuseum: valid: secret/data/**/*****User/BASIC_AUTH_PASS, secret/data/**/*****User/BASIC_AUTH_USER
**-pipeline-git-github-github: valid: secret/data/**/pipelineUser/password, secret/data/**/pipelineUser/username
knative-docker-user-pass: valid: secret/data/**/docker/password, secret/data/**/docker/username
knative-git-user-pass: valid: secret/data/**/pipelineUser/password, secret/data/**/pipelineUser/username
lighthouse-hmac-token: valid: secret/data/lighthouse/hmac/hmac
lighthouse-oauth-token: valid: secret/data/lighthouse/oauth/oauth
nexus: valid: secret/data/nexus/password
7 mandatory secrets are valid
make[1]: Leaving directory '/workspace/source'
# NOTE be very careful about these 2 labels as getting them wrong can remove stuff in you cluster!
kubectl apply --prune -l=gitops.jenkins-x.io/pipeline=cluster    -R -f config-root/cluster
customresourcedefinition.apiextensions.k8s.io/apps.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/buildpacks.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/commitstatuses.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/environmentrolebindings.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/environments.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/extensions.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/facts.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/gitservices.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/pipelineactivities.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/pipelinestructures.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/plugins.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/releases.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/schedulers.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/sourcerepositories.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/sourcerepositorygroups.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/teams.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/users.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/workflows.jenkins.io configured
clusterrole.rbac.authorization.k8s.io/controllerbuild-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/controllerbuild-** unchanged
clusterrole.rbac.authorization.k8s.io/controllerrole-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/controllerrole-** unchanged
clusterrole.rbac.authorization.k8s.io/gcactivities-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/gcactivities-** unchanged
clusterrole.rbac.authorization.k8s.io/gcpreviews-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/gcpreviews-** unchanged
customresourcedefinition.apiextensions.k8s.io/lighthousejobs.lighthouse.jenkins.io unchanged
clusterrole.rbac.authorization.k8s.io/tekton-pipelines unchanged
clusterrolebinding.rbac.authorization.k8s.io/tekton-pipelines-** unchanged
customresourcedefinition.apiextensions.k8s.io/clustertasks.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/conditions.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/images.caching.internal.knative.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelines.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelineruns.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelineresources.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/tasks.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/taskruns.tekton.dev unchanged
clusterrole.rbac.authorization.k8s.io/tekton-bot unchanged
clusterrolebinding.rbac.authorization.k8s.io/tekton-bot-** unchanged
clusterrole.rbac.authorization.k8s.io/tekton-aggregate-edit unchanged
clusterrole.rbac.authorization.k8s.io/tekton-aggregate-view unchanged
namespace/** unchanged
namespace/nginx configured
namespace/secret-infra configured
clusterrole.rbac.authorization.k8s.io/nginx-ingress unchanged
clusterrolebinding.rbac.authorization.k8s.io/nginx-ingress unchanged
customresourcedefinition.apiextensions.k8s.io/externalsecrets.kubernetes-client.io unchanged
clusterrole.rbac.authorization.k8s.io/kubernetes-external-secrets unchanged
clusterrolebinding.rbac.authorization.k8s.io/kubernetes-external-secrets unchanged
clusterrolebinding.rbac.authorization.k8s.io/kubernetes-external-secrets-auth unchanged
clusterrole.rbac.authorization.k8s.io/pusher-wave-pusher-wave unchanged
clusterrolebinding.rbac.authorization.k8s.io/pusher-wave-pusher-wave unchanged
clusterrolebinding.rbac.authorization.k8s.io/vault-auth-delegator unchanged
customresourcedefinition.apiextensions.k8s.io/vaults.vault.banzaicloud.com unchanged
clusterrole.rbac.authorization.k8s.io/vault-operator unchanged
clusterrolebinding.rbac.authorization.k8s.io/vault-operator unchanged
kubectl apply --prune -l=gitops.jenkins-x.io/pipeline=namespaces -R -f config-root/namespaces
deployment.apps/jenkins-x-chartmuseum unchanged
persistentvolumeclaim/jenkins-x-chartmuseum unchanged
externalsecret.kubernetes-client.io/jenkins-x-chartmuseum unchanged
service/jenkins-x-chartmuseum unchanged
ingress.networking.k8s.io/chartmuseum unchanged
ingress.networking.k8s.io/hook unchanged
ingress.networking.k8s.io/nexus unchanged
buildpack.jenkins.io/classic-workloads unchanged
buildpack.jenkins.io/kubernetes-workloads unchanged
deployment.apps/**boot-helmfile-resources-controllerbuild unchanged
release.jenkins.io/controllerbuild-2.0.1143 configured
role.rbac.authorization.k8s.io/controllerbuild unchanged
rolebinding.rbac.authorization.k8s.io/controllerbuild unchanged
serviceaccount/**boot-helmfile-resources-controllerbuild unchanged
deployment.apps/**boot-helmfile-resources-controllerrole unchanged
release.jenkins.io/controllerrole-2.0.1143 configured
role.rbac.authorization.k8s.io/controllerrole unchanged
rolebinding.rbac.authorization.k8s.io/controllerrole unchanged
serviceaccount/**boot-helmfile-resources-controllerrole unchanged
cronjob.batch/**boot-helmfile-resources-gcactivities unchanged
release.jenkins.io/gcactivities-2.0.1143 configured
role.rbac.authorization.k8s.io/gcactivities unchanged
rolebinding.rbac.authorization.k8s.io/gcactivities unchanged
serviceaccount/**boot-helmfile-resources-gcactivities unchanged
cronjob.batch/**boot-helmfile-resources-gcpods unchanged
release.jenkins.io/gcpods-2.0.1143 configured
role.rbac.authorization.k8s.io/gcpods unchanged
rolebinding.rbac.authorization.k8s.io/gcpods unchanged
serviceaccount/**boot-helmfile-resources-gcpods unchanged
cronjob.batch/**boot-helmfile-resources-gcpreviews unchanged
release.jenkins.io/gcpreviews-2.0.1143 configured
role.rbac.authorization.k8s.io/gcpreviews unchanged
rolebinding.rbac.authorization.k8s.io/gcpreviews unchanged
serviceaccount/**boot-helmfile-resources-gcpreviews unchanged
role.rbac.authorization.k8s.io/committer unchanged
scheduler.jenkins.io/default unchanged
externalsecret.kubernetes-client.io/jenkins-docker-cfg unchanged
scheduler.jenkins.io/environment unchanged
environment.jenkins.io/dev unchanged
environment.jenkins.io/staging unchanged
environment.jenkins.io/production unchanged
externalsecret.kubernetes-client.io/**-pipeline-git-github-github unchanged
configmap/ingress-config unchanged
configmap/jenkins-x-devpod-config unchanged
configmap/jenkins-x-docker-registry unchanged
configmap/jenkins-x-extensions unchanged
configmap/jenkins-x-pod-template-dlang unchanged
configmap/jenkins-x-pod-template-maven-nodejs unchanged
configmap/jenkins-x-pod-template-newman unchanged
configmap/jenkins-x-pod-template-nodejs unchanged
configmap/jenkins-x-pod-template-nodejs10x unchanged
configmap/jenkins-x-pod-template-nodejs12x unchanged
configmap/jenkins-x-pod-template-nodejs8x unchanged
configmap/jenkins-x-pod-template-packer unchanged
configmap/jenkins-x-pod-template-promote unchanged
configmap/jenkins-x-pod-template-python unchanged
configmap/jenkins-x-pod-template-python2 unchanged
configmap/jenkins-x-pod-template-go unchanged
configmap/jenkins-x-pod-template-python37 unchanged
configmap/jenkins-x-pod-template-ruby unchanged
configmap/jenkins-x-pod-template-rust unchanged
configmap/jenkins-x-pod-template-scala unchanged
configmap/jenkins-x-pod-template-swift unchanged
configmap/jenkins-x-pod-template-terraform unchanged
configmap/jenkins-x-pod-template-aws-cdk unchanged
configmap/jenkins-x-pod-template-php5x unchanged
configmap/jenkins-x-pod-template-php7x unchanged
configmap/jenkins-x-pod-template-gradle unchanged
configmap/jenkins-x-pod-template-**-base unchanged
configmap/jenkins-x-pod-template-machine-learning unchanged
configmap/jenkins-x-pod-template-machine-learning-gpu unchanged
configmap/jenkins-x-pod-template-maven unchanged
configmap/jenkins-x-pod-template-maven-graalvm unchanged
configmap/jenkins-x-pod-template-maven-java11 unchanged
role.rbac.authorization.k8s.io/**-pipeline-activity-updater unchanged
role.rbac.authorization.k8s.io/**-view unchanged
externalsecret.kubernetes-client.io/jenkins-maven-settings unchanged
externalsecret.kubernetes-client.io/jenkins-npm-token unchanged
role.rbac.authorization.k8s.io/owner unchanged
scheduler.jenkins.io/pr-only unchanged
externalsecret.kubernetes-client.io/jenkins-release-gpg unchanged
scheduler.jenkins.io/release-only unchanged
sourcerepository.jenkins.io/dev unchanged
role.rbac.authorization.k8s.io/viewer unchanged
deployment.apps/lighthouse-foghorn unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-foghorn unchanged
role.rbac.authorization.k8s.io/lighthouse-foghorn unchanged
serviceaccount/lighthouse-foghorn unchanged
cronjob.batch/lighthouse-gc-jobs unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-gc-jobs unchanged
role.rbac.authorization.k8s.io/lighthouse-gc-jobs unchanged
serviceaccount/lighthouse-gc-jobs unchanged
externalsecret.kubernetes-client.io/lighthouse-hmac-token unchanged
deployment.apps/lighthouse-**-controller unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-**-controller unchanged
role.rbac.authorization.k8s.io/lighthouse-**-controller unchanged
serviceaccount/lighthouse-**-controller unchanged
deployment.apps/lighthouse-keeper unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-keeper unchanged
role.rbac.authorization.k8s.io/lighthouse-keeper unchanged
serviceaccount/lighthouse-keeper unchanged
service/lighthouse-keeper unchanged
externalsecret.kubernetes-client.io/lighthouse-oauth-token unchanged
deployment.apps/lighthouse-webhooks unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-webhooks unchanged
role.rbac.authorization.k8s.io/lighthouse-webhooks unchanged
serviceaccount/lighthouse-webhooks unchanged
service/hook unchanged
configmap/config configured
configmap/**-install-config unchanged
configmap/plugins configured
configmap/nexus unchanged
deployment.apps/nexus-nexus configured
persistentvolumeclaim/nexus-nexus unchanged
externalsecret.kubernetes-client.io/nexus unchanged
service/nexus unchanged
podsecuritypolicy.policy/tekton-pipelines configured
externalsecret.kubernetes-client.io/knative-docker-user-pass unchanged
externalsecret.kubernetes-client.io/knative-git-user-pass unchanged
serviceaccount/tekton-pipelines unchanged
serviceaccount/tekton-bot configured
service/tekton-pipelines-controller unchanged
role.rbac.authorization.k8s.io/tekton-bot unchanged
rolebinding.rbac.authorization.k8s.io/tekton-bot unchanged
configmap/config-artifact-bucket configured
configmap/config-artifact-pvc unchanged
configmap/config-defaults unchanged
configmap/config-entrypoint unchanged
configmap/config-logging unchanged
configmap/config-observability unchanged
deployment.apps/tekton-pipelines-controller unchanged
deployment.apps/nginx-ingress-controller configured
poddisruptionbudget.policy/nginx-ingress-controller unchanged
role.rbac.authorization.k8s.io/nginx-ingress unchanged
rolebinding.rbac.authorization.k8s.io/nginx-ingress unchanged
service/nginx-ingress-controller unchanged
serviceaccount/nginx-ingress unchanged
deployment.apps/nginx-ingress-default-backend configured
service/nginx-ingress-default-backend unchanged
serviceaccount/nginx-ingress-backend unchanged
deployment.apps/kubernetes-external-secrets unchanged
service/kubernetes-external-secrets unchanged
serviceaccount/kubernetes-external-secrets unchanged
deployment.apps/pusher-wave-pusher-wave configured
serviceaccount/pusher-wave-pusher-wave unchanged
vault.vault.banzaicloud.com/vault unchanged
persistentvolumeclaim/vault-file unchanged
rolebinding.rbac.authorization.k8s.io/vault-secrets unchanged
role.rbac.authorization.k8s.io/vault-secrets unchanged
serviceaccount/vault unchanged
deployment.apps/vault-operator configured
serviceaccount/vault-operator unchanged
service/vault-operator unchanged
# lets apply any infrastructure specific labels or annotations to enable IAM roles on ServiceAccounts etc
** gitops postprocess
there is no post processing Secret **-post-process in namespace default so not performing any additional post processing steps
** verify env
Storing the requirements in team settings in the dev environment
Validating git repository for dev environment at URL *****************************************.git
Environment git repositories look good

** verify webhooks --verbose --warn-on-fail
Updating webhooks for Owner: ************ and Repository: **3-infra in git server: https://github.com
Checking hooks for repository ************/**3-infra with user ************
Found matching hook for url http://hook-**.34.123.92.138.nip.io/hook
Updating GitHub webhook for ************/**3-infra for url http://hook-**.34.123.92.138.nip.io/hook

tailing boot Job pod **-boot-eb64a7eef7fc5e5caaa407a-tj8lx

** gitops condition --last-commit-msg-prefix '!Merge pull request' -- make git-setup resolve-metadata all kubectl-apply verify-ingress-ignore commit
about to run: git log -1 --pretty=%B
chore: regenerated
found last commit message: chore: regenerated
about to run: make git-setup resolve-metadata all kubectl-apply verify-ingress-ignore commit
make[1]: Entering directory '/workspace/source'
** gitops git setup
about to run: git config --global --add user.name ************
about to run: git config --global --add user.email jenkins-x@googlegroups.com
about to run: git config --global credential.helper store in dir /home
Generated Git credentials file /home/.config/git/credentials
git pull
Already up to date.
# lets merge in any output from Terraform in the ConfigMap default/terraform-**-requirements if it exists
** gitops requirements merge
there is no ConfigMap terraform-**-requirements in namespace default so no need to merge requirements
# lets resolve any requirements
** gitops requirements resolve -n
GKE project: atvi-test2
project number: 411516393686
cluster name: infrak8s-dev
zone: us-central1-a
rm -rf build config-root
# lets create any missing SourceRepository defined in .**/gitops/source-config.yaml which are not in: versionStream/src/base/namespaces/**/source-repositories
** gitops repository create
file does not exist: .**/gitops/source-config.yaml so not defaulting any SourceConfig resources
mkdir -p build/base
mkdir -p build/tmp
mkdir -p config-root/namespaces/**
cp -r versionStream/src/* build
mkdir -p build/base/cluster/crds
# lets configure the cluster gitops repository URL on the requirements if its missing
** gitops repository resolve --source-dir config-root/namespaces
modifying **-requirements.yml in dir . to set the dev environment git repository to be ************/**3-infra
saving **-requirements.yml
discovered git URL https://************:****************************************@github.com/************/**3-infra replacing it in the dev Environment and Source Repository in dir config-root/namespaces
# set any missing defaults in the secrets mapping file
** secret convert edit
saved file: /workspace/source/.**/secret/mapping/secret-mappings.yaml
# lets resolve chart versions and values from the version stream
** gitops helmfile resolve
generated helm YAML file from ** requirements at **-values.yaml
resolving versions and values files from the version stream https://github.com/jenkins-x/**r-versions.git ref master in dir versionStream
about to run: helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
about to run: helm repo add jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories
about to run: helm repo add external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories
about to run: helm repo add **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories
about to run: helm repo add stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories
about to run: helm repo add banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories
# lets make sure we are using the latest **-cli in the git operator Job
** gitops image -s .**/git-operator
# this line avoids the next helmfile command failing...
helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
# generate the yaml from the charts in helmfile.yaml and moves them to the right directory tree (cluster or namespaces/foo)
** gitops helmfile template  --args="--include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl" --output-dir config-root
about to run: helm repo add external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories
about to run: helm repo add **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories
about to run: helm repo add stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories
about to run: helm repo add banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories
about to run: helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
about to run: helm repo add jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories
generating helm templates to dir config-root
about to run: helmfile --file helmfile-namespace-**.yaml --namespace ** template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/221562316/**
Adding repo jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories

Adding repo **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories

Fetching jenkins-x/**boot-helmfile-resources
Fetching **-labs/jenkins-x-crds
Fetching jenkins-x/tekton
Fetching jenkins-x/lighthouse
Fetching jenkins-x/nexus
Fetching jenkins-x/chartmuseum
Building dependency release=**boot-helmfile-resources, chart=/tmp/434682693/**/**boot-helmfile-resources/jenkins-x/**boot-helmfile-resources/0.0.283/**boot-helmfile-resources
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "external-secrets" chart repository
...Successfully got an update from the "**-labs" chart repository
...Successfully got an update from the "banzaicloud-stable" chart repository
...Successfully got an update from the "stable" chart repository
...Successfully got an update from the "**" chart repository
...Successfully got an update from the "jenkins-x" chart repository
Update Complete. âŽˆHappy Helming!âŽˆ
Saving 5 charts
Downloading ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Deleting outdated charts

Building dependency release=jenkins-x-crds, chart=/tmp/434682693/**/jenkins-x-crds/**-labs/jenkins-x-crds/0.0.7/jenkins-x-crds
Building dependency release=tekton, chart=/tmp/434682693/**/tekton/jenkins-x/tekton/0.0.56/tekton
Building dependency release=lighthouse, chart=/tmp/434682693/**/lighthouse/jenkins-x/lighthouse/0.0.683/lighthouse
Building dependency release=nexus, chart=/tmp/434682693/**/nexus/jenkins-x/nexus/0.1.35/nexus
Building dependency release=chartmuseum, chart=/tmp/434682693/**/chartmuseum/jenkins-x/chartmuseum/1.1.7/chartmuseum
Templating release=**boot-helmfile-resources, chart=/tmp/434682693/**/**boot-helmfile-resources/jenkins-x/**boot-helmfile-resources/0.0.283/**boot-helmfile-resources
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/docker-cfg-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/gh-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/maven-settings-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/npm-token-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/release-gpg-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/ingress-config-configmap.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-devpod-config.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-docker-registry.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-extensions-config.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/committer-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/**-pipeline-activity-reporter-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/**-view-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/owner-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/viewer-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/cronjob.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/cronjob.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/cronjob.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-chartmuseum-ing.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-hook-ing.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-nexus-ing.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/buildpacks.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/buildpacks.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/release.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/release.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/release.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/release.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/release.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/default-scheduler.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/env-scheduler.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/pr-only-scheduler.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/release-only-scheduler.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/repositories.yaml


Templating release=jenkins-x-crds, chart=/tmp/434682693/**/jenkins-x-crds/**-labs/jenkins-x-crds/0.0.7/jenkins-x-crds
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/apps-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/buildpacks-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/commitstatuses-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/environmentrolebindings-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/environments-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/extensions-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/facts-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/gitservices-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/pipelineactivities-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/pipelinestructures-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/plugins-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/releases-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/schedulers-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/sourcerepositories-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/sourcerepositorygroups-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/teams-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/users-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/workflows-crd.yaml


Templating release=tekton, chart=/tmp/434682693/**/tekton/jenkins-x/tekton/0.0.56/tekton
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/101-podsecuritypolicy.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/251-bot-serviceaccount.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-docker-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-git-secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-artifact-bucket.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-artifact-pvc.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-defaults.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-entrypoint.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-logging.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-observability.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-clustertask.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-condition.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-imagecache.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-pipeline.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-pipelinerun.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-resource.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-task.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-taskrun.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/200-clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-clusterrole.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/clusterrole-aggregate-edit.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/clusterrole-aggregate-view.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/200-clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-clusterrolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-rolebinding.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/400-controller-service.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/controller.yaml


Templating release=lighthouse, chart=/tmp/434682693/**/lighthouse/jenkins-x/lighthouse/0.0.683/lighthouse
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-sa.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-sa.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-sa.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-sa.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-sa.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/hmacsecret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/oauthsecret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/lighthousejobs-crd.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-role.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-rb.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-rb.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-rb.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-rb.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-rb.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-service.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-service.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-deployment.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-cj.yaml


Templating release=nexus, chart=/tmp/434682693/**/nexus/jenkins-x/nexus/0.1.35/nexus
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/config.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/pvc.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/service.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/deployment.yaml


Templating release=chartmuseum, chart=/tmp/434682693/**/chartmuseum/jenkins-x/chartmuseum/1.1.7/chartmuseum
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/secret.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/pvc.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/service.yaml
wrote /tmp/221562316/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/deployment.yaml


processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum
processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds
processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources
processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse
processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-nexus/nexus
processing chart dir /tmp/221562316/**/helmfile-namespace-**-7ca7038c-tekton/tekton
no Namespace resource ** so created file config-root/cluster/namespaces/**.yaml
about to run: helmfile --file helmfile-namespace-secret-infra.yaml --namespace secret-infra template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/221562316/secret-infra
Adding repo external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories

Adding repo **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories

Adding repo banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories

Fetching external-secrets/kubernetes-external-secrets
Fetching banzaicloud-stable/vault-operator
Fetching **-labs/vault-instance
Fetching **-labs/pusher-wave
Building dependency release=kubernetes-external-secrets, chart=/tmp/451981598/secret-infra/kubernetes-external-secrets/external-secrets/kubernetes-external-secrets/4.0.0/kubernetes-external-secrets
Building dependency release=vault-operator, chart=/tmp/451981598/secret-infra/vault-operator/banzaicloud-stable/vault-operator/1.3.0/vault-operator
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "external-secrets" chart repository
...Successfully got an update from the "**-labs" chart repository
...Successfully got an update from the "banzaicloud-stable" chart repository
...Successfully got an update from the "stable" chart repository
...Successfully got an update from the "**" chart repository
...Successfully got an update from the "jenkins-x" chart repository
Update Complete. âŽˆHappy Helming!âŽˆ
Saving 1 charts
Downloading etcd-operator from repo https://kubernetes-charts.storage.googleapis.com/
Deleting outdated charts

Building dependency release=vault-instance, chart=/tmp/451981598/secret-infra/vault-instance/**-labs/vault-instance/0.0.1/vault-instance
Building dependency release=pusher-wave, chart=/tmp/451981598/secret-infra/pusher-wave/**-labs/pusher-wave/1.0.0/pusher-wave
Templating release=kubernetes-external-secrets, chart=/tmp/451981598/secret-infra/kubernetes-external-secrets/external-secrets/kubernetes-external-secrets/4.0.0/kubernetes-external-secrets
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/crds/kubernetes-client.io_externalsecrets_crd.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/serviceaccount.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/service.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/deployment.yaml


Templating release=vault-operator, chart=/tmp/451981598/secret-infra/vault-operator/banzaicloud-stable/vault-operator/1.3.0/vault-operator
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/crds/crd.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/sa.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/role.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/rolebinding.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/service.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/deployment.yaml


Templating release=vault-instance, chart=/tmp/451981598/secret-infra/vault-instance/**-labs/vault-instance/0.0.1/vault-instance
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/sa.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/pvc.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/cluster-role-binding.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/role.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/role-binding.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/cr.yaml


Templating release=pusher-wave, chart=/tmp/451981598/secret-infra/pusher-wave/**-labs/pusher-wave/1.0.0/pusher-wave
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/serviceaccount.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/clusterrole.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/clusterrolebinding.yaml
wrote /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/deployment.yaml


processing chart dir /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets
processing chart dir /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave
processing chart dir /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance
processing chart dir /tmp/221562316/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator
no Namespace resource secret-infra so created file config-root/cluster/namespaces/secret-infra.yaml
about to run: helmfile --file helmfile-namespace-nginx.yaml --namespace nginx template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/221562316/nginx
Adding repo stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories

Fetching stable/nginx-ingress
Building dependency release=nginx-ingress, chart=/tmp/786044225/nginx/nginx-ingress/stable/nginx-ingress/1.39.1/nginx-ingress
Templating release=nginx-ingress, chart=/tmp/786044225/nginx/nginx-ingress/stable/nginx-ingress/1.39.1/nginx-ingress
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-poddisruptionbudget.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-serviceaccount.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-serviceaccount.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/clusterrole.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/clusterrolebinding.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-role.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-rolebinding.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-service.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-service.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-deployment.yaml
wrote /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-deployment.yaml


processing chart dir /tmp/221562316/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress
no Namespace resource nginx so created file config-root/cluster/namespaces/nginx.yaml
# convert k8s Secrets => ExternalSecret resources using secret mapping + schemas
# see: https://github.com/jenkins-x/**-secret#mappings
** secret convert --dir config-root
cp -r ./build/base/* config-root
rm config-root/kustomization.yaml
# lets generate the lighthouse configuration
** gitops scheduler -d config-root/namespaces/** -o versionStream/src/base/namespaces/**/lighthouse-config
loaded Scheduler name default in namespace **
loaded Scheduler name environment in namespace **
loaded Environment name dev in namespace **
loaded Scheduler name pr-only in namespace **
loaded Scheduler name release-only in namespace **
loaded SourceRepository name dev in namespace **
generated config ConfigMap versionStream/src/base/namespaces/**/lighthouse-config/config-cm.yaml and plugins ConfigMap versionStream/src/base/namespaces/**/lighthouse-config/plugins-cm.yaml
# lets add the kubectl-apply prune annotations
#
# NOTE be very careful about these 2 labels as getting them wrong can remove stuff in you cluster!
** gitops label --dir config-root/cluster    gitops.jenkins-x.io/pipeline=cluster
** gitops label --dir config-root/namespaces gitops.jenkins-x.io/pipeline=namespaces
# lets enable pusher-wave to perform rolling updates of any Deployment when its underlying Secrets get modified
# by modifying the underlying secret store (e.g. vault / GSM / ASM) which then causes External Secrets to modify the k8s Secrets
** gitops annotate --dir  config-root/namespaces --kind Deployment wave.pusher.com/update-on-config-change=true
# lets force a rolling upgrade of lighthouse pods whenever we update the lighthouse config...
** gitops hash -s config-root/namespaces/**/lighthouse-config/config-cm.yaml -s config-root/namespaces/**/lighthouse-config/plugins-cm.yaml -d config-root/namespaces/**/lighthouse
added annotation: jenkins-x.io/hash=35aefe3db7079732a972311e54cdb93ced2293370710697718af399e4442e526 to Deployments in dir config-root/namespaces/**/lighthouse
# NOTE be very careful about these 2 labels as getting them wrong can remove stuff in you cluster!
kubectl apply --prune -l=gitops.jenkins-x.io/pipeline=cluster    -R -f config-root/cluster
customresourcedefinition.apiextensions.k8s.io/apps.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/buildpacks.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/commitstatuses.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/environmentrolebindings.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/environments.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/extensions.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/facts.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/gitservices.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/pipelineactivities.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/pipelinestructures.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/plugins.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/releases.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/schedulers.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/sourcerepositories.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/sourcerepositorygroups.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/teams.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/users.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/workflows.jenkins.io configured
clusterrole.rbac.authorization.k8s.io/controllerbuild-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/controllerbuild-** unchanged
clusterrole.rbac.authorization.k8s.io/controllerrole-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/controllerrole-** unchanged
clusterrole.rbac.authorization.k8s.io/gcactivities-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/gcactivities-** unchanged
clusterrole.rbac.authorization.k8s.io/gcpreviews-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/gcpreviews-** unchanged
customresourcedefinition.apiextensions.k8s.io/lighthousejobs.lighthouse.jenkins.io unchanged
clusterrole.rbac.authorization.k8s.io/tekton-pipelines unchanged
clusterrolebinding.rbac.authorization.k8s.io/tekton-pipelines-** unchanged
customresourcedefinition.apiextensions.k8s.io/clustertasks.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/conditions.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/images.caching.internal.knative.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelines.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelineruns.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelineresources.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/tasks.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/taskruns.tekton.dev unchanged
clusterrole.rbac.authorization.k8s.io/tekton-bot unchanged
clusterrolebinding.rbac.authorization.k8s.io/tekton-bot-** unchanged
clusterrole.rbac.authorization.k8s.io/tekton-aggregate-edit unchanged
clusterrole.rbac.authorization.k8s.io/tekton-aggregate-view unchanged
namespace/** unchanged
namespace/nginx configured
namespace/secret-infra configured
clusterrole.rbac.authorization.k8s.io/nginx-ingress unchanged
clusterrolebinding.rbac.authorization.k8s.io/nginx-ingress unchanged
customresourcedefinition.apiextensions.k8s.io/externalsecrets.kubernetes-client.io unchanged
clusterrole.rbac.authorization.k8s.io/kubernetes-external-secrets unchanged
clusterrolebinding.rbac.authorization.k8s.io/kubernetes-external-secrets unchanged
clusterrolebinding.rbac.authorization.k8s.io/kubernetes-external-secrets-auth unchanged
clusterrole.rbac.authorization.k8s.io/pusher-wave-pusher-wave unchanged
clusterrolebinding.rbac.authorization.k8s.io/pusher-wave-pusher-wave unchanged
clusterrolebinding.rbac.authorization.k8s.io/vault-auth-delegator unchanged
customresourcedefinition.apiextensions.k8s.io/vaults.vault.banzaicloud.com unchanged
clusterrole.rbac.authorization.k8s.io/vault-operator unchanged
clusterrolebinding.rbac.authorization.k8s.io/vault-operator unchanged
kubectl apply --prune -l=gitops.jenkins-x.io/pipeline=namespaces -R -f config-root/namespaces
deployment.apps/jenkins-x-chartmuseum unchanged
persistentvolumeclaim/jenkins-x-chartmuseum unchanged
externalsecret.kubernetes-client.io/jenkins-x-chartmuseum unchanged
service/jenkins-x-chartmuseum unchanged
ingress.networking.k8s.io/chartmuseum unchanged
ingress.networking.k8s.io/hook unchanged
ingress.networking.k8s.io/nexus unchanged
buildpack.jenkins.io/classic-workloads unchanged
buildpack.jenkins.io/kubernetes-workloads unchanged
deployment.apps/**boot-helmfile-resources-controllerbuild unchanged
release.jenkins.io/controllerbuild-2.0.1143 configured
role.rbac.authorization.k8s.io/controllerbuild unchanged
rolebinding.rbac.authorization.k8s.io/controllerbuild unchanged
serviceaccount/**boot-helmfile-resources-controllerbuild unchanged
deployment.apps/**boot-helmfile-resources-controllerrole unchanged
release.jenkins.io/controllerrole-2.0.1143 configured
role.rbac.authorization.k8s.io/controllerrole unchanged
rolebinding.rbac.authorization.k8s.io/controllerrole unchanged
serviceaccount/**boot-helmfile-resources-controllerrole unchanged
cronjob.batch/**boot-helmfile-resources-gcactivities unchanged
release.jenkins.io/gcactivities-2.0.1143 configured
role.rbac.authorization.k8s.io/gcactivities unchanged
rolebinding.rbac.authorization.k8s.io/gcactivities unchanged
serviceaccount/**boot-helmfile-resources-gcactivities unchanged
cronjob.batch/**boot-helmfile-resources-gcpods unchanged
release.jenkins.io/gcpods-2.0.1143 configured
role.rbac.authorization.k8s.io/gcpods unchanged
rolebinding.rbac.authorization.k8s.io/gcpods unchanged
serviceaccount/**boot-helmfile-resources-gcpods unchanged
cronjob.batch/**boot-helmfile-resources-gcpreviews unchanged
release.jenkins.io/gcpreviews-2.0.1143 configured
role.rbac.authorization.k8s.io/gcpreviews unchanged
rolebinding.rbac.authorization.k8s.io/gcpreviews unchanged
serviceaccount/**boot-helmfile-resources-gcpreviews unchanged
role.rbac.authorization.k8s.io/committer unchanged
scheduler.jenkins.io/default unchanged
externalsecret.kubernetes-client.io/jenkins-docker-cfg unchanged
scheduler.jenkins.io/environment unchanged
environment.jenkins.io/dev unchanged
environment.jenkins.io/staging unchanged
environment.jenkins.io/production unchanged
externalsecret.kubernetes-client.io/**-pipeline-git-github-github unchanged
configmap/ingress-config unchanged
configmap/jenkins-x-devpod-config unchanged
configmap/jenkins-x-docker-registry unchanged
configmap/jenkins-x-extensions unchanged
configmap/jenkins-x-pod-template-dlang unchanged
configmap/jenkins-x-pod-template-maven-nodejs unchanged
configmap/jenkins-x-pod-template-newman unchanged
configmap/jenkins-x-pod-template-nodejs unchanged
configmap/jenkins-x-pod-template-nodejs10x unchanged
configmap/jenkins-x-pod-template-nodejs12x unchanged
configmap/jenkins-x-pod-template-nodejs8x unchanged
configmap/jenkins-x-pod-template-packer unchanged
configmap/jenkins-x-pod-template-promote unchanged
configmap/jenkins-x-pod-template-python unchanged
configmap/jenkins-x-pod-template-python2 unchanged
configmap/jenkins-x-pod-template-go unchanged
configmap/jenkins-x-pod-template-python37 unchanged
configmap/jenkins-x-pod-template-ruby unchanged
configmap/jenkins-x-pod-template-rust unchanged
configmap/jenkins-x-pod-template-scala unchanged
configmap/jenkins-x-pod-template-swift unchanged
configmap/jenkins-x-pod-template-terraform unchanged
configmap/jenkins-x-pod-template-aws-cdk unchanged
configmap/jenkins-x-pod-template-php5x unchanged
configmap/jenkins-x-pod-template-php7x unchanged
configmap/jenkins-x-pod-template-gradle unchanged
configmap/jenkins-x-pod-template-**-base unchanged
configmap/jenkins-x-pod-template-machine-learning unchanged
configmap/jenkins-x-pod-template-machine-learning-gpu unchanged
configmap/jenkins-x-pod-template-maven unchanged
configmap/jenkins-x-pod-template-maven-graalvm unchanged
configmap/jenkins-x-pod-template-maven-java11 unchanged
role.rbac.authorization.k8s.io/**-pipeline-activity-updater unchanged
role.rbac.authorization.k8s.io/**-view unchanged
externalsecret.kubernetes-client.io/jenkins-maven-settings unchanged
externalsecret.kubernetes-client.io/jenkins-npm-token unchanged
role.rbac.authorization.k8s.io/owner unchanged
scheduler.jenkins.io/pr-only unchanged
externalsecret.kubernetes-client.io/jenkins-release-gpg unchanged
scheduler.jenkins.io/release-only unchanged
sourcerepository.jenkins.io/dev unchanged
role.rbac.authorization.k8s.io/viewer unchanged
deployment.apps/lighthouse-foghorn unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-foghorn unchanged
role.rbac.authorization.k8s.io/lighthouse-foghorn unchanged
serviceaccount/lighthouse-foghorn unchanged
cronjob.batch/lighthouse-gc-jobs unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-gc-jobs unchanged
role.rbac.authorization.k8s.io/lighthouse-gc-jobs unchanged
serviceaccount/lighthouse-gc-jobs unchanged
externalsecret.kubernetes-client.io/lighthouse-hmac-token unchanged
deployment.apps/lighthouse-**-controller unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-**-controller unchanged
role.rbac.authorization.k8s.io/lighthouse-**-controller unchanged
serviceaccount/lighthouse-**-controller unchanged
deployment.apps/lighthouse-keeper unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-keeper unchanged
role.rbac.authorization.k8s.io/lighthouse-keeper unchanged
serviceaccount/lighthouse-keeper unchanged
service/lighthouse-keeper unchanged
externalsecret.kubernetes-client.io/lighthouse-oauth-token unchanged
deployment.apps/lighthouse-webhooks unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-webhooks unchanged
role.rbac.authorization.k8s.io/lighthouse-webhooks unchanged
serviceaccount/lighthouse-webhooks unchanged
service/hook unchanged
configmap/config configured
configmap/**-install-config unchanged
configmap/plugins configured
configmap/nexus unchanged
deployment.apps/nexus-nexus configured
persistentvolumeclaim/nexus-nexus unchanged
externalsecret.kubernetes-client.io/nexus unchanged
service/nexus unchanged
podsecuritypolicy.policy/tekton-pipelines configured
externalsecret.kubernetes-client.io/knative-docker-user-pass unchanged
externalsecret.kubernetes-client.io/knative-git-user-pass unchanged
serviceaccount/tekton-pipelines unchanged
serviceaccount/tekton-bot configured
service/tekton-pipelines-controller unchanged
role.rbac.authorization.k8s.io/tekton-bot unchanged
rolebinding.rbac.authorization.k8s.io/tekton-bot unchanged
configmap/config-artifact-bucket configured
configmap/config-artifact-pvc unchanged
configmap/config-defaults unchanged
configmap/config-entrypoint unchanged
configmap/config-logging unchanged
configmap/config-observability unchanged
deployment.apps/tekton-pipelines-controller unchanged
deployment.apps/nginx-ingress-controller configured
poddisruptionbudget.policy/nginx-ingress-controller unchanged
role.rbac.authorization.k8s.io/nginx-ingress unchanged
rolebinding.rbac.authorization.k8s.io/nginx-ingress unchanged
service/nginx-ingress-controller unchanged
serviceaccount/nginx-ingress unchanged
deployment.apps/nginx-ingress-default-backend configured
service/nginx-ingress-default-backend unchanged
serviceaccount/nginx-ingress-backend unchanged
deployment.apps/kubernetes-external-secrets unchanged
service/kubernetes-external-secrets unchanged
serviceaccount/kubernetes-external-secrets unchanged
deployment.apps/pusher-wave-pusher-wave configured
serviceaccount/pusher-wave-pusher-wave unchanged
vault.vault.banzaicloud.com/vault unchanged
persistentvolumeclaim/vault-file unchanged
rolebinding.rbac.authorization.k8s.io/vault-secrets unchanged
role.rbac.authorization.k8s.io/vault-secrets unchanged
serviceaccount/vault unchanged
deployment.apps/vault-operator configured
serviceaccount/vault-operator unchanged
service/vault-operator unchanged
# lets apply any infrastructure specific labels or annotations to enable IAM roles on ServiceAccounts etc
** gitops postprocess
there is no post processing Secret **-post-process in namespace default so not performing any additional post processing steps
** verify ingress -b
now verifying docker registry ingress setup in dir .
git add *
The following paths are ignored by one of your .gitignore files:
build
Use -f if you really want to add them.
make[1]: [versionStream/src/Makefile.mk:172: commit] Error 1 (ignored)
git status
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

	modified:   .**/secret/mapping/secret-mappings.yaml

no changes added to commit (use "git add" and/or "git commit -a")
# lets ignore commit errors in case there's no changes and to stop pipelines failing
git commit -m "chore: regenerated"
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
	modified:   .**/secret/mapping/secret-mappings.yaml

no changes added to commit
make[1]: Leaving directory '/workspace/source'
make[1]: [versionStream/src/Makefile.mk:175: commit] Error 1 (ignored)
# lets run this twice to ensure that ingress is setup after applying nginx if not using a custom domain yet
** gitops condition --last-commit-msg-prefix '!Merge pull request' -- make verify-ingress-ignore all verify-ignore secrets-populate commit push secrets-wait
about to run: git log -1 --pretty=%B
chore: regenerated
found last commit message: chore: regenerated
about to run: make verify-ingress-ignore all verify-ignore secrets-populate commit push secrets-wait
make[1]: Entering directory '/workspace/source'
** verify ingress -b
now verifying docker registry ingress setup in dir .
rm -rf build config-root
# lets create any missing SourceRepository defined in .**/gitops/source-config.yaml which are not in: versionStream/src/base/namespaces/**/source-repositories
** gitops repository create
file does not exist: .**/gitops/source-config.yaml so not defaulting any SourceConfig resources
mkdir -p build/base
mkdir -p build/tmp
mkdir -p config-root/namespaces/**
cp -r versionStream/src/* build
mkdir -p build/base/cluster/crds
# lets configure the cluster gitops repository URL on the requirements if its missing
** gitops repository resolve --source-dir config-root/namespaces
modifying **-requirements.yml in dir . to set the dev environment git repository to be ************/**3-infra
saving **-requirements.yml
discovered git URL https://************:****************************************@github.com/************/**3-infra replacing it in the dev Environment and Source Repository in dir config-root/namespaces
# set any missing defaults in the secrets mapping file
** secret convert edit
saved file: /workspace/source/.**/secret/mapping/secret-mappings.yaml
# lets resolve chart versions and values from the version stream
** gitops helmfile resolve
generated helm YAML file from ** requirements at **-values.yaml
resolving versions and values files from the version stream https://github.com/jenkins-x/**r-versions.git ref master in dir versionStream
about to run: helm repo add external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories
about to run: helm repo add **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories
about to run: helm repo add stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories
about to run: helm repo add banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories
about to run: helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
about to run: helm repo add jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories
# lets make sure we are using the latest **-cli in the git operator Job
** gitops image -s .**/git-operator
# this line avoids the next helmfile command failing...
helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
# generate the yaml from the charts in helmfile.yaml and moves them to the right directory tree (cluster or namespaces/foo)
** gitops helmfile template  --args="--include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl" --output-dir config-root
about to run: helm repo add jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories
about to run: helm repo add external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories
about to run: helm repo add **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories
about to run: helm repo add stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories
about to run: helm repo add banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories
about to run: helm repo add ** http://chartmuseum.jenkins-x.io
"**" has been added to your repositories
generating helm templates to dir config-root
about to run: helmfile --file helmfile-namespace-nginx.yaml --namespace nginx template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/933364006/nginx
Adding repo stable https://kubernetes-charts.storage.googleapis.com
"stable" has been added to your repositories

Fetching stable/nginx-ingress
Building dependency release=nginx-ingress, chart=/tmp/818360572/nginx/nginx-ingress/stable/nginx-ingress/1.39.1/nginx-ingress
Templating release=nginx-ingress, chart=/tmp/818360572/nginx/nginx-ingress/stable/nginx-ingress/1.39.1/nginx-ingress
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-poddisruptionbudget.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-serviceaccount.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-serviceaccount.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/clusterrole.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/clusterrolebinding.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-role.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-rolebinding.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-service.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-service.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/controller-deployment.yaml
wrote /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress/templates/default-backend-deployment.yaml


processing chart dir /tmp/933364006/nginx/helmfile-namespace-nginx-5a3259f8-nginx-ingress/nginx-ingress
no Namespace resource nginx so created file config-root/cluster/namespaces/nginx.yaml
about to run: helmfile --file helmfile-namespace-**.yaml --namespace ** template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/933364006/**
Adding repo jenkins-x https://storage.googleapis.com/chartmuseum.jenkins-x.io
"jenkins-x" has been added to your repositories

Adding repo **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories

Fetching **-labs/jenkins-x-crds
Fetching jenkins-x/**boot-helmfile-resources
Fetching jenkins-x/tekton
Fetching jenkins-x/lighthouse
Fetching jenkins-x/nexus
Fetching jenkins-x/chartmuseum
Building dependency release=**boot-helmfile-resources, chart=/tmp/461130758/**/**boot-helmfile-resources/jenkins-x/**boot-helmfile-resources/0.0.283/**boot-helmfile-resources
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "external-secrets" chart repository
...Successfully got an update from the "**-labs" chart repository
...Successfully got an update from the "banzaicloud-stable" chart repository
...Successfully got an update from the "stable" chart repository
...Successfully got an update from the "**" chart repository
...Successfully got an update from the "jenkins-x" chart repository
Update Complete. âŽˆHappy Helming!âŽˆ
Saving 5 charts
Downloading ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Already downloaded ** from repo http://chartmuseum.jenkins-x.io
Deleting outdated charts

Building dependency release=jenkins-x-crds, chart=/tmp/461130758/**/jenkins-x-crds/**-labs/jenkins-x-crds/0.0.7/jenkins-x-crds
Building dependency release=tekton, chart=/tmp/461130758/**/tekton/jenkins-x/tekton/0.0.56/tekton
Building dependency release=lighthouse, chart=/tmp/461130758/**/lighthouse/jenkins-x/lighthouse/0.0.683/lighthouse
Building dependency release=nexus, chart=/tmp/461130758/**/nexus/jenkins-x/nexus/0.1.35/nexus
Building dependency release=chartmuseum, chart=/tmp/461130758/**/chartmuseum/jenkins-x/chartmuseum/1.1.7/chartmuseum
Templating release=**boot-helmfile-resources, chart=/tmp/461130758/**/**boot-helmfile-resources/jenkins-x/**boot-helmfile-resources/0.0.283/**boot-helmfile-resources
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/docker-cfg-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/gh-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/maven-settings-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/npm-token-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/release-gpg-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/ingress-config-configmap.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-devpod-config.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-docker-registry.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-extensions-config.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/jenkins-x-pod-templates.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/committer-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/**-pipeline-activity-reporter-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/**-view-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/owner-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/viewer-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/cronjob.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/cronjob.yaml
Templating release=jenkins-x-crds, chart=/tmp/461130758/**/jenkins-x-crds/**-labs/jenkins-x-crds/0.0.7/jenkins-x-crds
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/cronjob.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-chartmuseum-ing.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-hook-ing.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/700-nexus-ing.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/buildpacks.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/buildpacks.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/environments.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerbuild/templates/release.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/controllerrole/templates/release.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcactivities/templates/release.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpods/templates/release.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/charts/gcpreviews/templates/release.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/default-scheduler.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/env-scheduler.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/pr-only-scheduler.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/release-only-scheduler.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources/templates/repositories.yaml


wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/apps-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/buildpacks-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/commitstatuses-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/environmentrolebindings-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/environments-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/extensions-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/facts-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/gitservices-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/pipelineactivities-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/pipelinestructures-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/plugins-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/releases-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/schedulers-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/sourcerepositories-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/sourcerepositorygroups-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/teams-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/users-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds/templates/workflows-crd.yaml


Templating release=tekton, chart=/tmp/461130758/**/tekton/jenkins-x/tekton/0.0.56/tekton
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/101-podsecuritypolicy.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/251-bot-serviceaccount.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-docker-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/250-git-secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-artifact-bucket.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-artifact-pvc.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-defaults.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-entrypoint.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-logging.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/config-observability.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-clustertask.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-condition.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-imagecache.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-pipeline.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-pipelinerun.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-resource.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-task.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/300-taskrun.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/200-clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-clusterrole.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/clusterrole-aggregate-edit.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/clusterrole-aggregate-view.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/200-clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-clusterrolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/build-bot-rolebinding.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/400-controller-service.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton/templates/controller.yaml


Templating release=lighthouse, chart=/tmp/461130758/**/lighthouse/jenkins-x/lighthouse/0.0.683/lighthouse
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-sa.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-sa.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-sa.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-sa.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-sa.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/hmacsecret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/oauthsecret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/lighthousejobs-crd.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-role.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-rb.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-rb.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-rb.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-rb.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-rb.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-service.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-service.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/foghorn-deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/**-controller-deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/keeper-deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/webhooks-deployment.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse/templates/gc-jobs-cj.yaml


Templating release=nexus, chart=/tmp/461130758/**/nexus/jenkins-x/nexus/0.1.35/nexus
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/config.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/pvc.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/service.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus/templates/deployment.yaml


Templating release=chartmuseum, chart=/tmp/461130758/**/chartmuseum/jenkins-x/chartmuseum/1.1.7/chartmuseum
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/secret.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/pvc.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/service.yaml
wrote /tmp/933364006/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum/templates/deployment.yaml


processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-chartmuseum/chartmuseum
processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-jenkins-x-crds/jenkins-x-crds
processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-**boot-helmfile-resources/**boot-helmfile-resources
processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-lighthouse/lighthouse
processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-nexus/nexus
processing chart dir /tmp/933364006/**/helmfile-namespace-**-7ca7038c-tekton/tekton
no Namespace resource ** so created file config-root/cluster/namespaces/**.yaml
about to run: helmfile --file helmfile-namespace-secret-infra.yaml --namespace secret-infra template -args --include-crds --values=**-values.yaml --values=versionStream/src/fake-secrets.yaml.gotmpl --output-dir /tmp/933364006/secret-infra
Adding repo external-secrets https://godaddy.github.io/kubernetes-external-secrets
"external-secrets" has been added to your repositories

Adding repo **-labs https://storage.googleapis.com/jenkinsxio-labs-private/charts
"**-labs" has been added to your repositories

Adding repo banzaicloud-stable https://kubernetes-charts.banzaicloud.com
"banzaicloud-stable" has been added to your repositories

Fetching external-secrets/kubernetes-external-secrets
Fetching banzaicloud-stable/vault-operator
Fetching **-labs/vault-instance
Fetching **-labs/pusher-wave
Building dependency release=kubernetes-external-secrets, chart=/tmp/467446977/secret-infra/kubernetes-external-secrets/external-secrets/kubernetes-external-secrets/4.0.0/kubernetes-external-secrets
Building dependency release=vault-operator, chart=/tmp/467446977/secret-infra/vault-operator/banzaicloud-stable/vault-operator/1.3.0/vault-operator
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "external-secrets" chart repository
...Successfully got an update from the "**-labs" chart repository
...Successfully got an update from the "banzaicloud-stable" chart repository
...Successfully got an update from the "stable" chart repository
...Successfully got an update from the "**" chart repository
...Successfully got an update from the "jenkins-x" chart repository
Update Complete. âŽˆHappy Helming!âŽˆ
Saving 1 charts
Downloading etcd-operator from repo https://kubernetes-charts.storage.googleapis.com/
Deleting outdated charts

Building dependency release=vault-instance, chart=/tmp/467446977/secret-infra/vault-instance/**-labs/vault-instance/0.0.1/vault-instance
Building dependency release=pusher-wave, chart=/tmp/467446977/secret-infra/pusher-wave/**-labs/pusher-wave/1.0.0/pusher-wave
Templating release=kubernetes-external-secrets, chart=/tmp/467446977/secret-infra/kubernetes-external-secrets/external-secrets/kubernetes-external-secrets/4.0.0/kubernetes-external-secrets
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/crds/kubernetes-client.io_externalsecrets_crd.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/serviceaccount.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/rbac.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/service.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets/templates/deployment.yaml


Templating release=vault-operator, chart=/tmp/467446977/secret-infra/vault-operator/banzaicloud-stable/vault-operator/1.3.0/vault-operator
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/crds/crd.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/sa.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/role.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/rolebinding.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/service.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator/templates/deployment.yaml


Templating release=vault-instance, chart=/tmp/467446977/secret-infra/vault-instance/**-labs/vault-instance/0.0.1/vault-instance
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/sa.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/pvc.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/cluster-role-binding.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/role.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/role-binding.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance/templates/cr.yaml


Templating release=pusher-wave, chart=/tmp/467446977/secret-infra/pusher-wave/**-labs/pusher-wave/1.0.0/pusher-wave
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/serviceaccount.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/clusterrole.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/clusterrolebinding.yaml
wrote /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave/templates/deployment.yaml


processing chart dir /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-kubernetes-external-secrets/kubernetes-external-secrets
processing chart dir /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-pusher-wave/pusher-wave
processing chart dir /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-instance/vault-instance
processing chart dir /tmp/933364006/secret-infra/helmfile-namespace-secret-infra-7f3608e8-vault-operator/vault-operator
no Namespace resource secret-infra so created file config-root/cluster/namespaces/secret-infra.yaml
# convert k8s Secrets => ExternalSecret resources using secret mapping + schemas
# see: https://github.com/jenkins-x/**-secret#mappings
** secret convert --dir config-root
cp -r ./build/base/* config-root
rm config-root/kustomization.yaml
# lets generate the lighthouse configuration
** gitops scheduler -d config-root/namespaces/** -o versionStream/src/base/namespaces/**/lighthouse-config
loaded Scheduler name default in namespace **
loaded Scheduler name environment in namespace **
loaded Environment name dev in namespace **
loaded Scheduler name pr-only in namespace **
loaded Scheduler name release-only in namespace **
loaded SourceRepository name dev in namespace **
generated config ConfigMap versionStream/src/base/namespaces/**/lighthouse-config/config-cm.yaml and plugins ConfigMap versionStream/src/base/namespaces/**/lighthouse-config/plugins-cm.yaml
# lets add the kubectl-apply prune annotations
#
# NOTE be very careful about these 2 labels as getting them wrong can remove stuff in you cluster!
** gitops label --dir config-root/cluster    gitops.jenkins-x.io/pipeline=cluster
** gitops label --dir config-root/namespaces gitops.jenkins-x.io/pipeline=namespaces
# lets enable pusher-wave to perform rolling updates of any Deployment when its underlying Secrets get modified
# by modifying the underlying secret store (e.g. vault / GSM / ASM) which then causes External Secrets to modify the k8s Secrets
** gitops annotate --dir  config-root/namespaces --kind Deployment wave.pusher.com/update-on-config-change=true
# lets force a rolling upgrade of lighthouse pods whenever we update the lighthouse config...
** gitops hash -s config-root/namespaces/**/lighthouse-config/config-cm.yaml -s config-root/namespaces/**/lighthouse-config/plugins-cm.yaml -d config-root/namespaces/**/lighthouse
added annotation: jenkins-x.io/hash=35aefe3db7079732a972311e54cdb93ced2293370710697718af399e4442e526 to Deployments in dir config-root/namespaces/**/lighthouse
make[1]: Nothing to be done for 'verify-ignore'.
# lets populate any missing secrets we have a generator in `charts/epoName/hartName/secret-schema.yaml`
# they can be modified/regenerated at any time via `** secret edit`
VAULT_ADDR=https://vault.secret-infra:8200 ** secret populate
waiting for vault pod vault-0 in namespace secret-infra to be ready...
pod vault-0 in namespace secret-infra is ready
verifying we have vault installed
about to run: /home/.**3/plugins/bin/vault-1.4.2 version
Vault v1.4.2
verifying we can connect to vault...
about to run: /home/.**3/plugins/bin/vault-1.4.2 kv list secret
Keys
----
accounts/
dockerrepo
jenkins/
**/
lighthouse/
mysql
nexus
vault is setup correctly!

managed to verify we can connect to vault
verifying we have vault installed
about to run: /home/.**3/plugins/bin/vault-1.4.2 version
Vault v1.4.2
verifying we can connect to vault...
about to run: /home/.**3/plugins/bin/vault-1.4.2 kv list secret
Keys
----
accounts/
dockerrepo
jenkins/
**/
lighthouse/
mysql
nexus
vault is setup correctly!

git add *
The following paths are ignored by one of your .gitignore files:
build
Use -f if you really want to add them.
make[1]: [versionStream/src/Makefile.mk:172: commit] Error 1 (ignored)
git status
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

	modified:   .**/secret/mapping/secret-mappings.yaml

no changes added to commit (use "git add" and/or "git commit -a")
# lets ignore commit errors in case there's no changes and to stop pipelines failing
git commit -m "chore: regenerated"
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
	modified:   .**/secret/mapping/secret-mappings.yaml

no changes added to commit
make[1]: [versionStream/src/Makefile.mk:175: commit] Error 1 (ignored)
git push
Everything up-to-date
# lets wait for the ExternalSecrets service to populate the mandatory Secret resources
VAULT_ADDR=https://vault.secret-infra:8200 ** secret wait
waiting for the mandatory Secrets to be populated from ExternalSecrets...
jenkins-x-chartmuseum: valid: secret/data/**/*****User/BASIC_AUTH_PASS, secret/data/**/*****User/BASIC_AUTH_USER
**-pipeline-git-github-github: valid: secret/data/**/pipelineUser/password, secret/data/**/pipelineUser/username
knative-docker-user-pass: valid: secret/data/**/docker/password, secret/data/**/docker/username
knative-git-user-pass: valid: secret/data/**/pipelineUser/password, secret/data/**/pipelineUser/username
lighthouse-hmac-token: valid: secret/data/lighthouse/hmac/hmac
lighthouse-oauth-token: valid: secret/data/lighthouse/oauth/oauth
nexus: valid: secret/data/nexus/password
7 mandatory secrets are valid
make[1]: Leaving directory '/workspace/source'
# NOTE be very careful about these 2 labels as getting them wrong can remove stuff in you cluster!
kubectl apply --prune -l=gitops.jenkins-x.io/pipeline=cluster    -R -f config-root/cluster
customresourcedefinition.apiextensions.k8s.io/apps.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/buildpacks.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/commitstatuses.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/environmentrolebindings.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/environments.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/extensions.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/facts.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/gitservices.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/pipelineactivities.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/pipelinestructures.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/plugins.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/releases.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/schedulers.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/sourcerepositories.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/sourcerepositorygroups.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/teams.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/users.jenkins.io configured
customresourcedefinition.apiextensions.k8s.io/workflows.jenkins.io configured
clusterrole.rbac.authorization.k8s.io/controllerbuild-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/controllerbuild-** unchanged
clusterrole.rbac.authorization.k8s.io/controllerrole-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/controllerrole-** unchanged
clusterrole.rbac.authorization.k8s.io/gcactivities-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/gcactivities-** unchanged
clusterrole.rbac.authorization.k8s.io/gcpreviews-** unchanged
clusterrolebinding.rbac.authorization.k8s.io/gcpreviews-** unchanged
customresourcedefinition.apiextensions.k8s.io/lighthousejobs.lighthouse.jenkins.io unchanged
clusterrole.rbac.authorization.k8s.io/tekton-pipelines unchanged
clusterrolebinding.rbac.authorization.k8s.io/tekton-pipelines-** unchanged
customresourcedefinition.apiextensions.k8s.io/clustertasks.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/conditions.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/images.caching.internal.knative.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelines.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelineruns.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/pipelineresources.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/tasks.tekton.dev unchanged
customresourcedefinition.apiextensions.k8s.io/taskruns.tekton.dev unchanged
clusterrole.rbac.authorization.k8s.io/tekton-bot unchanged
clusterrolebinding.rbac.authorization.k8s.io/tekton-bot-** unchanged
clusterrole.rbac.authorization.k8s.io/tekton-aggregate-edit unchanged
clusterrole.rbac.authorization.k8s.io/tekton-aggregate-view unchanged
namespace/** unchanged
namespace/nginx configured
namespace/secret-infra configured
clusterrole.rbac.authorization.k8s.io/nginx-ingress unchanged
clusterrolebinding.rbac.authorization.k8s.io/nginx-ingress unchanged
customresourcedefinition.apiextensions.k8s.io/externalsecrets.kubernetes-client.io unchanged
clusterrole.rbac.authorization.k8s.io/kubernetes-external-secrets unchanged
clusterrolebinding.rbac.authorization.k8s.io/kubernetes-external-secrets unchanged
clusterrolebinding.rbac.authorization.k8s.io/kubernetes-external-secrets-auth unchanged
clusterrole.rbac.authorization.k8s.io/pusher-wave-pusher-wave unchanged
clusterrolebinding.rbac.authorization.k8s.io/pusher-wave-pusher-wave unchanged
clusterrolebinding.rbac.authorization.k8s.io/vault-auth-delegator unchanged
customresourcedefinition.apiextensions.k8s.io/vaults.vault.banzaicloud.com unchanged
clusterrole.rbac.authorization.k8s.io/vault-operator unchanged
clusterrolebinding.rbac.authorization.k8s.io/vault-operator unchanged
kubectl apply --prune -l=gitops.jenkins-x.io/pipeline=namespaces -R -f config-root/namespaces
deployment.apps/jenkins-x-chartmuseum unchanged
persistentvolumeclaim/jenkins-x-chartmuseum unchanged
externalsecret.kubernetes-client.io/jenkins-x-chartmuseum unchanged
service/jenkins-x-chartmuseum unchanged
ingress.networking.k8s.io/chartmuseum unchanged
ingress.networking.k8s.io/hook unchanged
ingress.networking.k8s.io/nexus unchanged
buildpack.jenkins.io/classic-workloads unchanged
buildpack.jenkins.io/kubernetes-workloads unchanged
deployment.apps/**boot-helmfile-resources-controllerbuild unchanged
release.jenkins.io/controllerbuild-2.0.1143 configured
role.rbac.authorization.k8s.io/controllerbuild unchanged
rolebinding.rbac.authorization.k8s.io/controllerbuild unchanged
serviceaccount/**boot-helmfile-resources-controllerbuild unchanged
deployment.apps/**boot-helmfile-resources-controllerrole unchanged
release.jenkins.io/controllerrole-2.0.1143 configured
role.rbac.authorization.k8s.io/controllerrole unchanged
rolebinding.rbac.authorization.k8s.io/controllerrole unchanged
serviceaccount/**boot-helmfile-resources-controllerrole unchanged
cronjob.batch/**boot-helmfile-resources-gcactivities unchanged
release.jenkins.io/gcactivities-2.0.1143 configured
role.rbac.authorization.k8s.io/gcactivities unchanged
rolebinding.rbac.authorization.k8s.io/gcactivities unchanged
serviceaccount/**boot-helmfile-resources-gcactivities unchanged
cronjob.batch/**boot-helmfile-resources-gcpods unchanged
release.jenkins.io/gcpods-2.0.1143 configured
role.rbac.authorization.k8s.io/gcpods unchanged
rolebinding.rbac.authorization.k8s.io/gcpods unchanged
serviceaccount/**boot-helmfile-resources-gcpods unchanged
cronjob.batch/**boot-helmfile-resources-gcpreviews unchanged
release.jenkins.io/gcpreviews-2.0.1143 configured
role.rbac.authorization.k8s.io/gcpreviews unchanged
rolebinding.rbac.authorization.k8s.io/gcpreviews unchanged
serviceaccount/**boot-helmfile-resources-gcpreviews unchanged
role.rbac.authorization.k8s.io/committer unchanged
scheduler.jenkins.io/default unchanged
externalsecret.kubernetes-client.io/jenkins-docker-cfg unchanged
scheduler.jenkins.io/environment unchanged
environment.jenkins.io/dev unchanged
environment.jenkins.io/staging unchanged
environment.jenkins.io/production unchanged
externalsecret.kubernetes-client.io/**-pipeline-git-github-github unchanged
configmap/ingress-config unchanged
configmap/jenkins-x-devpod-config unchanged
configmap/jenkins-x-docker-registry unchanged
configmap/jenkins-x-extensions unchanged
configmap/jenkins-x-pod-template-dlang unchanged
configmap/jenkins-x-pod-template-maven-nodejs unchanged
configmap/jenkins-x-pod-template-newman unchanged
configmap/jenkins-x-pod-template-nodejs unchanged
configmap/jenkins-x-pod-template-nodejs10x unchanged
configmap/jenkins-x-pod-template-nodejs12x unchanged
configmap/jenkins-x-pod-template-nodejs8x unchanged
configmap/jenkins-x-pod-template-packer unchanged
configmap/jenkins-x-pod-template-promote unchanged
configmap/jenkins-x-pod-template-python unchanged
configmap/jenkins-x-pod-template-python2 unchanged
configmap/jenkins-x-pod-template-go unchanged
configmap/jenkins-x-pod-template-python37 unchanged
configmap/jenkins-x-pod-template-ruby unchanged
configmap/jenkins-x-pod-template-rust unchanged
configmap/jenkins-x-pod-template-scala unchanged
configmap/jenkins-x-pod-template-swift unchanged
configmap/jenkins-x-pod-template-terraform unchanged
configmap/jenkins-x-pod-template-aws-cdk unchanged
configmap/jenkins-x-pod-template-php5x unchanged
configmap/jenkins-x-pod-template-php7x unchanged
configmap/jenkins-x-pod-template-gradle unchanged
configmap/jenkins-x-pod-template-**-base unchanged
configmap/jenkins-x-pod-template-machine-learning unchanged
configmap/jenkins-x-pod-template-machine-learning-gpu unchanged
configmap/jenkins-x-pod-template-maven unchanged
configmap/jenkins-x-pod-template-maven-graalvm unchanged
configmap/jenkins-x-pod-template-maven-java11 unchanged
role.rbac.authorization.k8s.io/**-pipeline-activity-updater unchanged
role.rbac.authorization.k8s.io/**-view unchanged
externalsecret.kubernetes-client.io/jenkins-maven-settings unchanged
externalsecret.kubernetes-client.io/jenkins-npm-token unchanged
role.rbac.authorization.k8s.io/owner unchanged
scheduler.jenkins.io/pr-only unchanged
externalsecret.kubernetes-client.io/jenkins-release-gpg unchanged
scheduler.jenkins.io/release-only unchanged
sourcerepository.jenkins.io/dev unchanged
role.rbac.authorization.k8s.io/viewer unchanged
deployment.apps/lighthouse-foghorn unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-foghorn unchanged
role.rbac.authorization.k8s.io/lighthouse-foghorn unchanged
serviceaccount/lighthouse-foghorn unchanged
cronjob.batch/lighthouse-gc-jobs unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-gc-jobs unchanged
role.rbac.authorization.k8s.io/lighthouse-gc-jobs unchanged
serviceaccount/lighthouse-gc-jobs unchanged
externalsecret.kubernetes-client.io/lighthouse-hmac-token unchanged
deployment.apps/lighthouse-**-controller unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-**-controller unchanged
role.rbac.authorization.k8s.io/lighthouse-**-controller unchanged
serviceaccount/lighthouse-**-controller unchanged
deployment.apps/lighthouse-keeper unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-keeper unchanged
role.rbac.authorization.k8s.io/lighthouse-keeper unchanged
serviceaccount/lighthouse-keeper unchanged
service/lighthouse-keeper unchanged
externalsecret.kubernetes-client.io/lighthouse-oauth-token unchanged
deployment.apps/lighthouse-webhooks unchanged
rolebinding.rbac.authorization.k8s.io/lighthouse-webhooks unchanged
role.rbac.authorization.k8s.io/lighthouse-webhooks unchanged
serviceaccount/lighthouse-webhooks unchanged
service/hook unchanged
configmap/config configured
configmap/**-install-config unchanged
configmap/plugins configured
configmap/nexus unchanged
deployment.apps/nexus-nexus configured
persistentvolumeclaim/nexus-nexus unchanged
externalsecret.kubernetes-client.io/nexus unchanged
service/nexus unchanged
podsecuritypolicy.policy/tekton-pipelines configured
externalsecret.kubernetes-client.io/knative-docker-user-pass unchanged
externalsecret.kubernetes-client.io/knative-git-user-pass unchanged
serviceaccount/tekton-pipelines unchanged
serviceaccount/tekton-bot configured
service/tekton-pipelines-controller unchanged
role.rbac.authorization.k8s.io/tekton-bot unchanged
rolebinding.rbac.authorization.k8s.io/tekton-bot unchanged
configmap/config-artifact-bucket configured
configmap/config-artifact-pvc unchanged
configmap/config-defaults unchanged
configmap/config-entrypoint unchanged
configmap/config-logging unchanged
configmap/config-observability unchanged
deployment.apps/tekton-pipelines-controller unchanged
deployment.apps/nginx-ingress-controller configured
poddisruptionbudget.policy/nginx-ingress-controller unchanged
role.rbac.authorization.k8s.io/nginx-ingress unchanged
rolebinding.rbac.authorization.k8s.io/nginx-ingress unchanged
service/nginx-ingress-controller unchanged
serviceaccount/nginx-ingress unchanged
deployment.apps/nginx-ingress-default-backend configured
service/nginx-ingress-default-backend unchanged
serviceaccount/nginx-ingress-backend unchanged
deployment.apps/kubernetes-external-secrets unchanged
service/kubernetes-external-secrets unchanged
serviceaccount/kubernetes-external-secrets unchanged
deployment.apps/pusher-wave-pusher-wave configured
serviceaccount/pusher-wave-pusher-wave unchanged
vault.vault.banzaicloud.com/vault unchanged
persistentvolumeclaim/vault-file unchanged
rolebinding.rbac.authorization.k8s.io/vault-secrets unchanged
role.rbac.authorization.k8s.io/vault-secrets unchanged
serviceaccount/vault unchanged
deployment.apps/vault-operator configured
serviceaccount/vault-operator unchanged
service/vault-operator unchanged
# lets apply any infrastructure specific labels or annotations to enable IAM roles on ServiceAccounts etc
** gitops postprocess
there is no post processing Secret **-post-process in namespace default so not performing any additional post processing steps
** verify env
Storing the requirements in team settings in the dev environment
Validating git repository for dev environment at URL *****************************************.git
Environment git repositories look good

** verify webhooks --verbose --warn-on-fail
Updating webhooks for Owner: ************ and Repository: **3-infra in git server: https://github.com
Checking hooks for repository ************/**3-infra with user ************
Found matching hook for url http://hook-**.34.123.92.138.nip.io/hook
Updating GitHub webhook for ************/**3-infra for url http://hook-**.34.123.92.138.nip.io/hook
boot Job pod **-boot-eb64a7eef7fc5e5caaa407a-tj8lx has Succeeded
boot Job **-boot-eb64a7eef7fc5e5caaa407a has Succeeded
